define(function(){return function(){"use strict";var t={228:function(t,e,n){n.d(e,{Assembly6DGroup:function(){return r},Events:function(){return o}});var o={OnClick:"mapp6D:Assembly6DGroup:onClick"},i=n(466);const r=function(){function t(t){var e=this;this.groupElement=t,this.childIds=[],this.childs=[],this.assembly6DClickEventListener=function(t){return e.fireEventByChilds(t)}}return t.prototype.readChildElements=function(){for(var t=this.groupElement.querySelectorAll("[data-brease-widget]"),e=0;e<t.length;++e){var n=t[e],o={elem:n,id:n.id};this.childs.push(o),this.childIds.push(o.id)}},t.prototype.fireEventByChilds=function(t){var e=t;e.stopPropagation();for(var n=0,i=this.childs;n<i.length;n++)i[n].elem.dispatchEvent(new CustomEvent(o.OnClick,{detail:e.detail}))},t.prototype.addAssembly6DClickEventListenerForChilds=function(){this.groupElement.addEventListener(i.s.OnClick,this.assembly6DClickEventListener)},t.prototype.removeAssembly6DClickEventListenerForChilds=function(){this.groupElement.removeEventListener(i.s.OnClick,this.assembly6DClickEventListener)},t}()},466:function(t,e,n){n.d(e,{s:function(){return o}});var o={OnClick:"mapp6D:Assembly6D:onClick"}},786:function(t,e,n){n.d(e,{$N:function(){return s},$p:function(){return c.$},CB:function(){return i},Cw:function(){return a},Kd:function(){return r},L7:function(){return o}});var o,i,r,s,a,c=n(257);!function(t){t.Assembly="assembly",t.Layout="layout",t.Segment="segment",t.Shuttle="shuttle",t.Zone="zone",t.PowerSector="power-sector"}(o||(o={})),function(t){t[t.Disabled=0]="Disabled",t[t.Homing=1]="Homing",t[t.Ready=2]="Ready",t[t.Stopping=3]="Stopping",t[t.ErrorStop=4]="ErrorStop",t[t.Startup=5]="Startup",t[t.InvalidConfiguration=6]="InvalidConfiguration"}(i||(i={})),function(t){t[t.Undetected=0]="Undetected",t[t.Discovering=1]="Discovering",t[t.Landed=2]="Landed",t[t.Idling=3]="Idling",t[t.Disabled=4]="Disabled",t[t.Motion=5]="Motion",t[t.Wait=6]="Wait",t[t.Stopping=7]="Stopping",t[t.Obstacle=8]="Obstacle",t[t.Hold=9]="Hold",t[t.Stopped=10]="Stopped",t[t.Error=11]="Error",t[t.Reserved=12]="Reserved",t[t.Accident=99]="Accident"}(r||(r={})),function(t){t[t.ActiveOpen=0]="ActiveOpen",t[t.ActiveClosed=1]="ActiveClosed",t[t.NotActive=2]="NotActive",t[t.Error=3]="Error"}(s||(s={})),function(t){t[t.Disconnected=0]="Disconnected",t[t.ActiveOpen=1]="ActiveOpen",t[t.ActiveClosed=2]="ActiveClosed",t[t.NotActive=3]="NotActive",t[t.Error=4]="Error"}(a||(a={}))},229:function(t,e,n){n.d(e,{AssemblyBuilder:function(){return Xt},AssemblyOpcUaMethods:function(){return ht},AssemblyOpcUaParameters:function(){return lt},AssemblySvg:function(){return W},AssemblySvgMerge:function(){return ve.A},ComponentEnum:function(){return o.L7},ComponentFactory:function(){return Zt},ComponentFactoryOptions:function(){return zt},ConfigParser:function(){return Gt},DataAccessFactoryOpcUa:function(){return ge},EventOnClickHandler:function(){return Vt},Events:function(){return i.s},PowerSectorContainer:function(){return Wt},SegmentAreaDisplayModeEnum:function(){return m},SegmentDataAccessParameterEnum:function(){return M},SegmentOpcUaMethods:function(){return qt},SegmentOpcUaParameters:function(){return Kt},SegmentOptions:function(){return I},SegmentSvg:function(){return T},SegmentSvgOptions:function(){return w},ShuttleBase:function(){return Z},ShuttleOpcUaMethods:function(){return it},ShuttleOpcUaParameters:function(){return ot},ShuttleOptions:function(){return $},ShuttlePositionVisibilityOptions:function(){return B},ShuttleStateEnum:function(){return o.Kd},ShuttleSvg:function(){return z},ShuttleSvgOptions:function(){return U},SvgComponentFactory:function(){return bt},dimensionInMeterToMillimeter:function(){return p},scaleTemperature:function(){return D},shuttlePositionInMeterToMillimeter:function(){return c},shuttlePositionInRadToDegree:function(){return u},shuttlePositionUnitsToInternalUnits:function(){return a}});var o=n(786),i=n(466),r=n(72),s=function(){return s=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};function a(t){return{x:(0,r.rH)(t.x),y:(0,r.rH)(t.y),z:(0,r.rH)(t.z),rX:(0,r.Dp)(t.rX),rY:(0,r.Dp)(t.rY),rZ:(0,r.Dp)(t.rZ)}}function c(t){return s(s({},t),{x:(0,r.rH)(t.x),y:(0,r.rH)(t.y),z:(0,r.rH)(t.z)})}function u(t){return s(s({},t),{rX:(0,r.Dp)(t.rX),rY:(0,r.Dp)(t.rY),rZ:(0,r.Dp)(t.rZ)})}function p(t){return{width:(0,r.rH)(t.width),height:(0,r.rH)(t.height)}}const l=function(){function t(t,e,n){this.id=t,this._layout=null,this.shuttles=new Map,this.zones=new Map,this.powerSectors=new Map,this.svg=e,this.dataAccess=n,this.registerDataAccessCallbacks()}return Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},enumerable:!1,configurable:!0}),t.prototype.powerOn=function(){var t;null===(t=this._layout)||void 0===t||t.powerOn()},t.prototype.powerOff=function(){var t;null===(t=this._layout)||void 0===t||t.powerOff()},t.prototype.setError=function(){var t;null===(t=this._layout)||void 0===t||t.setError()},t.prototype.home=function(){var t;null===(t=this._layout)||void 0===t||t.home()},t.prototype.stop=function(){var t;null===(t=this._layout)||void 0===t||t.stop()},t.prototype.addLayout=function(t){this._layout=t},t.prototype.addShuttle=function(t){this.svg.addToElementWithCssClass(t.svg,"shuttles"),this.shuttles.set(t.id,t)},t.prototype.removeShuttle=function(t){var e=this.shuttles.get(t);return void 0!==e&&(e.dispose(),this.shuttles.delete(t))},t.prototype.addZone=function(t){this.svg.addToElementWithCssClass(t.svg,"zones"),this.zones.set(t.id,t)},t.prototype.removeZone=function(t){var e=this.zones.get(t);return void 0!==e&&(e.dispose(),this.zones.delete(t))},t.prototype.addPowerSector=function(t){this.svg.addToElementWithCssClass(t.svg,"power-sectors"),this.powerSectors.set(t.id,t)},t.prototype.removePowerSector=function(t){var e=this.powerSectors.get(t);return void 0!==e&&(e.dispose(),this.powerSectors.delete(t))},t.prototype.registerDataAccessCallbacks=function(){var t=this;this.dataAccess.onPowerOn((function(){return t.powerOn()})),this.dataAccess.onPowerOff((function(){return t.powerOff()})),this.dataAccess.onError((function(){return t.setError()})),this.dataAccess.onHoming((function(){return t.home()})),this.dataAccess.onStopping((function(){return t.stop()}))},t.prototype.dispose=function(){this.dataAccess.dispose(),this.shuttles.forEach((function(t){return t.dispose()})),this.shuttles.clear(),this.zones.forEach((function(t){return t.dispose()})),this.zones.clear(),this.powerSectors.forEach((function(t){return t.dispose()})),this.powerSectors.clear(),this._layout&&(this._layout.dispose(),this._layout=null)},t}(),h=function(){function t(t,e){this.id=t,this._segments=new Map,this.svg=e}return Object.defineProperty(t.prototype,"segments",{get:function(){return this._segments},enumerable:!1,configurable:!0}),t.prototype.addSegment=function(t){t.initializeGridFields(this.svg.gridSize),this._segments.set(t.id,t)},t.prototype.powerOn=function(){this.segments.forEach((function(t){return t.powerOn()}))},t.prototype.powerOff=function(){this.segments.forEach((function(t){return t.powerOff()}))},t.prototype.setError=function(){this.segments.forEach((function(t){return t.setError()}))},t.prototype.home=function(){this.segments.forEach((function(t){return t.home()}))},t.prototype.stop=function(){this.segments.forEach((function(t){return t.stop()}))},t.prototype.dispose=function(){this.segments.forEach((function(t){return t.dispose()})),this._segments.clear()},t}();var f,d=n(488),y=(f=function(t,e){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},f(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=function(){this.areaDisplayState=!0};const v=function(t){function e(e,n,o){void 0===o&&(o=null);var i=t.call(this,e,o)||this;return i.currentCssClassForTheState=n,i.options=new g,i}return y(e,t),e.prototype.initOptions=function(t){this.options.areaDisplayState=t.areaDisplayState},e.prototype.initStatesDependingOnOptions=function(){this.setState(this.currentCssClassForTheState)},e.prototype.applyOptions=function(t){this.initOptions(t),this.initStatesDependingOnOptions()},e.prototype.setState=function(t){d.A.replaceAddClassForElement(this.element,this.currentCssClassForTheState,this.options.areaDisplayState?t:o.$p.Empty),this.currentCssClassForTheState=t},e.prototype.powerOff=function(){this.setState(o.$p.PowerOff)},e.prototype.powerOn=function(){this.setState(o.$p.PowerOn)},e.prototype.setError=function(){this.setState(o.$p.Error)},e.prototype.stop=function(){this.setState(o.$p.Stopping)},e}(d.A);var m,S=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();!function(t){t[t.State=0]="State",t[t.MotorTemperature=1]="MotorTemperature"}(m||(m={}));var w=function(){function t(){this.areaDisplayMode=m.State}return Object.defineProperty(t.prototype,"areaDisplayState",{get:function(){return this.areaDisplayMode===m.State},set:function(t){t&&(this.areaDisplayMode=m.State)},enumerable:!1,configurable:!0}),t}(),b=function(){function t(t,e,n){this.h=t,this.s=e,this.l=n}return t.prototype.toString=function(){return"hsl(".concat(this.h,", ").concat(this.s,"%, ").concat(this.l,"%)")},t.parse=function(e){var n=e.substring(4,e.length-1).replace(/ /g,"").replace(/%/g,"").split(",");return new t(Number(n[0]),Number(n[1]),Number(n[2]))},t}(),A=function(t,e){this.temperature=t,this.color=e},C=new b(120,100,40),O=new b(0,100,40),P=25,x=50,E=0,_=10;function D(t){var e=(t-P)/(x-P)*(_-E)+E;return t-Math.min(Math.max(e,E),_)}const T=function(t){function e(e,n){var o=t.call(this,e,e.classList[e.classList.length-1])||this;o.options=new w,o.powerSectorName="",o.powerSectorId="",o.isMaster=!1,o.segmentName="",o.uniqueSegmentName="",o._motorTemperature=0,o.temperaturePoints=[new A(40,C),new A(70,O)];var i=e.querySelector("rect");if(null===i)throw new Error("The provided svg element does not contain a rectangle element.");return o.dimension={width:Number(i.getAttribute("width")),height:Number(i.getAttribute("height"))},o.position={x:Number(e.getAttribute("position-x-mm")),y:Number(e.getAttribute("position-y-mm"))},o.fieldPosition={x:Number(e.getAttribute("position-x")),y:Number(e.getAttribute("position-y"))},o.isMaster="true"===e.getAttribute("master"),o.powerSectorName=e.getAttribute("power-sector-name")||"",o.powerSectorId=e.getAttribute("power-sector-id")||"",o.segmentName=e.getAttribute("segment-name")||"",o.uniqueSegmentName=e.getAttribute("segment-name-unique")||o.id,o.applyOptions(n||new w),o}return S(e,t),e.prototype.initOptions=function(e){t.prototype.initOptions.call(this,e),this.options.areaDisplayMode=e.areaDisplayMode},e.prototype.initStatesDependingOnOptions=function(){t.prototype.initStatesDependingOnOptions.call(this),this.motorTemperature=this._motorTemperature},Object.defineProperty(e.prototype,"motorTemperature",{get:function(){return this._motorTemperature},set:function(t){if(this._motorTemperature=t,this.options.areaDisplayMode===m.MotorTemperature){var e=this.interpolateColor(this.motorTemperature);this.element.setAttribute("fill","hsl(".concat(e.h,", ").concat(e.s,"%, ").concat(e.l,"%)"))}},enumerable:!1,configurable:!0}),e.prototype.interpolateColor=function(t){var e=this.getLimitsForTemperature(t);return function(t,e,n){if(e.temperature===n.temperature)return e.color;var o=(t-e.temperature)/(n.temperature-e.temperature),i=e.color.h+o*(n.color.h-e.color.h),r=e.color.s+o*(n.color.s-e.color.s),s=e.color.l+o*(n.color.l-e.color.l);return new b(i,r,s)}(t,e[0],e[1])},e.prototype.getLimitsForTemperature=function(t){for(var e=0,n=1;n<this.temperaturePoints.length;n++)t>=this.temperaturePoints[n].temperature&&(e=n);var o=this.temperaturePoints[e];return[o,o.temperature>=t?o:e>=this.temperaturePoints.length-1?this.temperaturePoints[e]:this.temperaturePoints[e+1]]},e.prototype.home=function(){this.setState(o.$p.Homing)},e.SVG_SEGMENT_STROKE_WIDTH=3.75,e}(v);var M;!function(t){t[t.State=0]="State",t[t.MotorTemperature=1]="MotorTemperature"}(M||(M={}));var F=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataAccessParameters=[M.State],e}return F(e,t),e}(w);const k=function(){function t(t,e,n,o){this.id=t,this.svg=e,this.dataAccess=n,this.gridFields=[{position:e.position,fieldPosition:e.fieldPosition,dimension:e.dimension}],this.options=o||new I,this.registerDataAccessCallbacks()}return Object.defineProperty(t.prototype,"motorTemperature",{set:function(t){this.svg.motorTemperature=t},enumerable:!1,configurable:!0}),t.prototype.onClick=function(t){var e=this;this.svg.element.addEventListener("click",(function(n){n.preventDefault(),t(e.getStatusObject())}))},t.prototype.getStatusObject=function(){return{type:this.svg.element.classList[0],id:this.id,sourceComponent:this}},t.prototype.powerOn=function(){this.svg.powerOn()},t.prototype.powerOff=function(){this.svg.powerOff()},t.prototype.setError=function(){this.svg.setError()},t.prototype.home=function(){this.svg.home()},t.prototype.stop=function(){this.svg.stop()},t.prototype.getPowerSectorName=function(){return this.svg.powerSectorName},t.prototype.getPowerSectorId=function(){return this.svg.powerSectorId},t.prototype.isPowerSector=function(){return""!==this.svg.powerSectorName},t.prototype.isMaster=function(){return this.svg.isMaster},t.prototype.setFocus=function(){this.svg.setFocus()},t.prototype.removeFocus=function(){this.svg.removeFocus()},t.prototype.registerDataAccessCallbacks=function(){var t=this;this.options.dataAccessParameters.includes(M.State)&&(this.dataAccess.onPowerOn((function(){return t.powerOn()})),this.dataAccess.onPowerOff((function(){return t.powerOff()})),this.dataAccess.onError((function(){return t.setError()})),this.dataAccess.onHoming((function(){return t.home()})),this.dataAccess.onStopping((function(){return t.stop()}))),this.options.dataAccessParameters.includes(M.MotorTemperature)&&this.dataAccess.onMotorTemperatureChange((function(e){return t.motorTemperature=e}))},t.prototype.initializeGridFields=function(t){var e=Math.floor(this.svg.dimension.width/t),n=Math.floor(this.svg.dimension.height/t);this.gridFields.splice(0,this.gridFields.length);for(var o=0;o<e;o++)for(var i=0;i<n;i++){var r={position:{x:this.svg.position.x+o*t,y:this.svg.position.y+i*t},fieldPosition:{x:this.svg.fieldPosition.x+o,y:this.svg.fieldPosition.y+i},dimension:{width:t,height:t}};this.gridFields.push(r)}},t.prototype.dispose=function(){this.dataAccess.dispose()},t}();var R,N=n(202),L=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();!function(t){t.X="X",t.Y="Y",t.Z="Z",t.Rx="Rx",t.Ry="Ry",t.Rz="Rz"}(R||(R={}));var B=function(){this.x=!1,this.y=!1,this.z=!1,this.rX=!1,this.rY=!1,this.rZ=!1},U=function(){this.areaDisplayState=!0,this.showAdditionalInformation=!1,this.showPosition=new B,this.showState=!1};function j(t){return t?o.$p.DisplayBlock:o.$p.DisplayNone}const z=function(t){function e(e,n,i,r){var s=t.call(this,N.Ay.createGroup(),o.$p.PowerOff,e)||this;return s.idText=n,s._position={x:0,y:0,z:0,rX:0,rY:0,rZ:0},s._state=o.Kd.Disabled,s.showLinearAxisCount=0,s.showRotationAxisCount=0,s.showAxisCount=0,s.showOnlyLinearOrRotationAxis=!1,s.options=new U,s.dimension=i,s.initOptions(r||new U),s.createShuttle(),s}return L(e,t),e.prototype.initOptions=function(e){t.prototype.initOptions.call(this,e),e.showAdditionalInformation?Object.assign(this.options,e):(this.options.showAdditionalInformation=!1,this.options.showState=!1,this.options.showPosition={x:!1,y:!1,z:!1,rX:!1,rY:!1,rZ:!1}),this.showLinearAxisCount=0,this.showRotationAxisCount=0,this.showLinearAxisCount+=e.showPosition.x?1:0,this.showLinearAxisCount+=e.showPosition.y?1:0,this.showLinearAxisCount+=e.showPosition.z?1:0,this.showRotationAxisCount+=e.showPosition.rX?1:0,this.showRotationAxisCount+=e.showPosition.rY?1:0,this.showRotationAxisCount+=e.showPosition.rZ?1:0,this.showAxisCount=this.showRotationAxisCount+this.showLinearAxisCount,this.showOnlyLinearOrRotationAxis=0===this.showLinearAxisCount||0===this.showRotationAxisCount},e.prototype.initStatesDependingOnOptions=function(){t.prototype.initStatesDependingOnOptions.call(this),this.updateAdditionalInfoPositionElements(),this.updateAdditionalInfoStateElement(),this.setPositionLayoutCssClasses(),this.setVisibilityForAdditionalInformation()},Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t,this.setTransformAttribute(),this.options.showAdditionalInformation&&this.updateAdditionalInfoPositionElements()},enumerable:!1,configurable:!0}),e.prototype.setTransformAttribute=function(){this.element.setAttributeNS(null,"transform","translate(".concat(this._position.x," ").concat(-this._position.y,") rotate(").concat(-this._position.rZ,")"))},e.prototype.updateAdditionalInfoPositionElements=function(){this.updatePositionText(this.txtX,this.getPositionText(R.X.toString(),this._position.x),this.options.showPosition.x),this.updatePositionText(this.txtRx,this.getRotationText(R.Rx.toString(),this._position.rX),this.options.showPosition.rX),this.updatePositionText(this.txtY,this.getPositionText(R.Y.toString(),this._position.y),this.options.showPosition.y),this.updatePositionText(this.txtRy,this.getRotationText(R.Ry.toString(),this._position.rY),this.options.showPosition.rY),this.updatePositionText(this.txtZ,this.getPositionText(R.Z.toString(),this._position.z),this.options.showPosition.z),this.updatePositionText(this.txtRz,this.getRotationText(R.Rz.toString(),this._position.rZ),this.options.showPosition.rZ)},e.prototype.updatePositionText=function(t,e,n){n&&(t.innerHTML=e)},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t,this.options.showAdditionalInformation&&this.updateAdditionalInfoStateElement()},enumerable:!1,configurable:!0}),e.prototype.updateAdditionalInfoStateElement=function(){this.txtState.innerHTML=o.Kd[this._state].toString()},e.calcRectPosition=function(t){return-t/2},e.prototype.createShuttle=function(){this.element.setAttributeNS(null,"class",o.L7.Shuttle),this.element.setAttributeNS(null,"transform","translate(0 0)"),this.powerOff();var t=e.calcRectPosition(this.dimension.width)+e.SVG_SHUTTLE_STROKE_WIDTH/2,n=e.calcRectPosition(this.dimension.height)+e.SVG_SHUTTLE_STROKE_WIDTH/2,i=N.Ay.createRect(t,n,this.dimension.width-e.SVG_SHUTTLE_STROKE_WIDTH,this.dimension.height-e.SVG_SHUTTLE_STROKE_WIDTH);i.setAttributeNS(null,"rx",24..toString()),i.setAttributeNS(null,"ry",24..toString()),i.setAttribute("stroke-width",e.SVG_SHUTTLE_STROKE_WIDTH.toString()),this.element.appendChild(i);var r=this.createForeignObject(t,n);this.createTextElementForTheId(),this.createTextElementForTheState(),this.createTextElementForThePositions(r.firstElementChild);var s=N.Ay.createRect(t,n,this.dimension.width-e.SVG_SHUTTLE_STROKE_WIDTH,this.dimension.height-e.SVG_SHUTTLE_STROKE_WIDTH);s.setAttributeNS(null,"class","".concat(o.$p.Transparent)),this.element.appendChild(s)},e.prototype.createForeignObject=function(t,n){var o=N.Ay.createForeignObject(t,n,this.dimension.width-e.SVG_SHUTTLE_STROKE_WIDTH,this.dimension.height-e.SVG_SHUTTLE_STROKE_WIDTH);return this.element.appendChild(o),this.divTextPositions=N.Ay.createDivXhtml(),this.setPositionLayoutCssClasses(),o.appendChild(this.divTextPositions),o},e.prototype.setPositionLayoutCssClasses=function(){var t="",e=o.$p.CellCountLe3;this.showOnlyLinearOrRotationAxis?3===this.showAxisCount?t=o.$p.CellCountEq3:2===this.showAxisCount?t=o.$p.CellCountEq2:1===this.showAxisCount&&(t=o.$p.CellCountEq1):e="",this.divTextPositions.setAttributeNS(null,"class","".concat(o.$p.PositionInfoContainer," ").concat(e," ").concat(t))},e.prototype.createTextElementForTheId=function(){var t=N.Ay.createText(this.idText,N.Ay.calcLeftPosition(this.dimension.width),N.Ay.calcTopPosition(this.dimension.height));this.element.appendChild(t)},e.prototype.createTextElementForTheState=function(){this.txtState=N.Ay.createText(o.Kd[this._state].toString(),N.Ay.calcRightPosition(this.dimension.width),N.Ay.calcTopPosition(this.dimension.height)),this.txtState.setAttributeNS(null,"class","".concat(o.$p.AdditionalInfo," ").concat(o.$p.TextAnchorEnd," ").concat(this.getCssClassForDisplayAttr()," ").concat(o.$p.StateInfo)),this.element.appendChild(this.txtState)},e.prototype.getCssClassForDisplayAttr=function(){return j(this.options.showAdditionalInformation)},e.prototype.createTextElementForThePositions=function(t){this.txtX=this.createTextElementForSinglePosition(this.getPositionText(R.X.toString(),this._position.x),t,this.options.showPosition.x,o.$p.PositionX),this.txtRx=this.createTextElementForSinglePosition(this.getRotationText(R.Rx.toString(),this._position.rX),t,this.options.showPosition.rX,o.$p.PositionRx),this.txtY=this.createTextElementForSinglePosition(this.getPositionText(R.Y.toString(),this._position.y),t,this.options.showPosition.y,o.$p.PositionY),this.txtRy=this.createTextElementForSinglePosition(this.getRotationText(R.Ry.toString(),this._position.rY),t,this.options.showPosition.rY,o.$p.PositionRy),this.txtZ=this.createTextElementForSinglePosition(this.getPositionText(R.Z.toString(),this._position.z),t,this.options.showPosition.z,o.$p.PositionZ),this.txtRz=this.createTextElementForSinglePosition(this.getRotationText(R.Rz.toString(),this._position.rZ),t,this.options.showPosition.rZ,o.$p.PositionRz)},e.prototype.createTextElementForSinglePosition=function(t,e,n,i){var r,s=N.Ay.createTextXhtml(t);return r=n?this.getCssClassForDisplayAttr():o.$p.DisplayNone,s.setAttributeNS(null,"class","".concat(o.$p.AdditionalInfo," ").concat(o.$p.PositionInfo," ").concat(r," ").concat(i)),e.appendChild(s),s},e.prototype.getPositionText=function(t,e){return"".concat(t,": ").concat(N.Ay.formatPositionValue((0,r.Fx)(e)))},e.prototype.getRotationText=function(t,e){return"".concat(t,": ").concat(N.Ay.formatPositionValue(e))},e.prototype.idle=function(){this.setState(o.$p.Idling)},e.prototype.land=function(){this.setState(o.$p.Landed)},e.prototype.move=function(){this.setState(o.$p.Motion)},e.prototype.obstacle=function(){this.setState(o.$p.Obstacle)},e.prototype.accident=function(){d.A.replaceAddClassForElement(this.element,this.currentCssClassForTheState,o.$p.Accident),this.currentCssClassForTheState=o.$p.Accident},e.prototype.showAdditionalInformation=function(){this.options.showAdditionalInformation=!0,this.setVisibilityForAdditionalInformation()},e.prototype.hideAdditionalInformation=function(){this.options.showAdditionalInformation=!1,this.setVisibilityForAdditionalInformation()},e.prototype.setVisibilityForAdditionalInformation=function(){d.A.replaceAddClassForElement(this.txtState,j(!this.options.showState),j(this.options.showState)),d.A.replaceAddClassForElement(this.txtX,j(!this.options.showPosition.x),j(this.options.showPosition.x)),d.A.replaceAddClassForElement(this.txtY,j(!this.options.showPosition.y),j(this.options.showPosition.y)),d.A.replaceAddClassForElement(this.txtZ,j(!this.options.showPosition.z),j(this.options.showPosition.z)),d.A.replaceAddClassForElement(this.txtRx,j(!this.options.showPosition.rX),j(this.options.showPosition.rX)),d.A.replaceAddClassForElement(this.txtRy,j(!this.options.showPosition.rY),j(this.options.showPosition.rY)),d.A.replaceAddClassForElement(this.txtRz,j(!this.options.showPosition.rZ),j(this.options.showPosition.rZ))},e.SVG_SHUTTLE_STROKE_WIDTH=3,e}(v),Z=function(){function t(t,e){this.id=t,this.svg=e}return Object.defineProperty(t.prototype,"position",{set:function(t){this.svg.position=a(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{set:function(t){this.svg.state=t},enumerable:!1,configurable:!0}),t.prototype.onClick=function(t){var e=this;this.svg.element.addEventListener("click",(function(){return t(e.getStatusObject())}))},t.prototype.remove=function(){this.svg.remove()},t.prototype.getStatusObject=function(){return{type:this.svg.element.classList[0],id:this.id,sourceComponent:this}},t.prototype.powerOn=function(){this.svg.powerOn()},t.prototype.powerOff=function(){this.svg.powerOff()},t.prototype.setError=function(){this.svg.setError()},t.prototype.stop=function(){this.svg.stop()},t.prototype.idle=function(){this.svg.idle()},t.prototype.land=function(){this.svg.land()},t.prototype.move=function(){this.svg.move()},t.prototype.obstacle=function(){this.svg.obstacle()},t.prototype.accident=function(){this.svg.accident()},t.prototype.showAdditionalInformation=function(){this.svg.showAdditionalInformation()},t.prototype.hideAdditionalInformation=function(){this.svg.hideAdditionalInformation()},t.prototype.setFocus=function(){this.svg.setFocus()},t.prototype.removeFocus=function(){this.svg.removeFocus()},t.prototype.dispose=function(){this.remove()},t}();var H=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return H(e,t),e}(U);const G=function(t){function e(e,n,o){var i=t.call(this,e,n)||this;return i.id=e,i.dataAccess=o,i.registerDataAccessCallbacks(),i}return H(e,t),e.prototype.registerDataAccessCallbacks=function(){var t=this;this.dataAccess.onPowerOn((function(){return t.powerOn()})),this.dataAccess.onPowerOff((function(){return t.powerOff()})),this.dataAccess.onError((function(){return t.setError()})),this.dataAccess.onMotion((function(){return t.move()})),this.dataAccess.onLanded((function(){return t.land()})),this.dataAccess.onIdling((function(){return t.idle()})),this.dataAccess.onStopping((function(){return t.stop()})),this.dataAccess.onObstacle((function(){return t.obstacle()})),this.dataAccess.onStateChange((function(e){return t.state=e})),this.dataAccess.onPositionChange((function(e){return t.position=e})),this.dataAccess.onAccident((function(){return t.accident()}))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.dataAccess.dispose()},e}(Z),Y=function(){function t(t,e,n){this.id=t,this.svg=e,this.dataAccess=n,this.registerDataAccessCallbacks()}return t.prototype.remove=function(){this.svg.remove()},t.prototype.activateClosed=function(){this.svg.activateClosed()},t.prototype.activateOpen=function(){this.svg.activateOpen()},t.prototype.deactivate=function(){this.svg.deactivate()},t.prototype.setError=function(){this.svg.setError()},t.prototype.registerDataAccessCallbacks=function(){var t=this;this.dataAccess.onActivateClosed((function(){return t.activateClosed()})),this.dataAccess.onActivateOpen((function(){return t.activateOpen()})),this.dataAccess.onDeactivate((function(){return t.deactivate()})),this.dataAccess.onError((function(){return t.setError()}))},t.prototype.dispose=function(){this.remove(),this.dataAccess.dispose()},t}();var V=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const W=function(t){function e(e){return t.call(this,e)||this}return V(e,t),e.prototype.insertBeforeChild=function(t,e){e<0||e>=this.element.children.length?this.element.appendChild(t.element):this.element.insertBefore(t.element,this.element.children[e])},e}(d.A);var X=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const K=function(t){function e(e){var n=t.call(this,e)||this;return n.gridSize=Number(e.getAttribute("grid-size")),n}return X(e,t),e}(d.A);var q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const J=function(t){function e(e,n,o){var i=t.call(this,N.Ay.createGroup(),e)||this;return i.createZone(n,o),i}return q(e,t),e.prototype.createZone=function(t,e){this.element.setAttributeNS(null,"class",o.L7.Zone),this.activateOpen(),this.element.setAttributeNS(null,"transform","translate(".concat(e.x," ").concat(-e.y,")"));var n=N.Ay.createRect(0,0,t.width,t.height);this.element.appendChild(n)},e.prototype.activateClosed=function(){d.A.replaceAddClassForElement(this.element,this.currentCssClassForTheState,o.$p.ActiveClosed),this.currentCssClassForTheState=o.$p.ActiveClosed},e.prototype.activateOpen=function(){d.A.replaceAddClassForElement(this.element,this.currentCssClassForTheState,o.$p.ActiveOpen),this.currentCssClassForTheState=o.$p.ActiveOpen},e.prototype.deactivate=function(){d.A.replaceAddClassForElement(this.element,this.currentCssClassForTheState,o.$p.NotActive),this.currentCssClassForTheState=o.$p.NotActive},e.prototype.setError=function(){d.A.replaceAddClassForElement(this.element,this.currentCssClassForTheState,o.$p.Error),this.currentCssClassForTheState=o.$p.Error},e}(d.A);var Q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const tt=function(t){function e(e,n){var o=t.call(this,N.Ay.createGroup(),e)||this;return o.createPowerSector(n),o}return Q(e,t),e.prototype.createPowerSector=function(t){this.element.setAttributeNS(null,"class",o.L7.PowerSector),this.disconnect();var e=N.Ay.createPath(t);this.element.appendChild(e)},e.prototype.disconnect=function(){d.A.replaceAddClassForElement(this.element,this.currentCssClassForTheState,o.$p.Disconnected),this.currentCssClassForTheState=o.$p.Disconnected},e.prototype.activateClosed=function(){d.A.replaceAddClassForElement(this.element,this.currentCssClassForTheState,o.$p.ActiveClosed),this.currentCssClassForTheState=o.$p.ActiveClosed},e.prototype.activateOpen=function(){d.A.replaceAddClassForElement(this.element,this.currentCssClassForTheState,o.$p.ActiveOpen),this.currentCssClassForTheState=o.$p.ActiveOpen},e.prototype.deactivate=function(){d.A.replaceAddClassForElement(this.element,this.currentCssClassForTheState,o.$p.NotActive),this.currentCssClassForTheState=o.$p.NotActive},e.prototype.setError=function(){d.A.replaceAddClassForElement(this.element,this.currentCssClassForTheState,o.$p.Error),this.currentCssClassForTheState=o.$p.Error},e}(d.A);var et=n(606),nt=n(734),ot={DataOfShuttles:"Data of shuttles",Dimensions:"Dimensions"},it={GetDimensionById:"Get dimension by ID"},rt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),st=function(){return st=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},st.apply(this,arguments)},at=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))},ct=function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function ut(t){return"".concat(t,"_Shuttle")}const pt=function(t){function e(e,n,o,i){var r=t.call(this,e,n,i)||this;return r.shuttleRegistrationService=o,r.dataOfShuttles={},r.onDataChangeCallback=function(t){return r.onDataChange(t)},r.shuttleRegistrationService.afterRegistration((function(t){var e,n;void 0!==t.state&&r.updateState(t.id,t.state),t.position&&(null===(n=(e=r.dataOfShuttles[t.id]).onPositionChange)||void 0===n||n.call(e,t.position)),r.dataOfShuttles[t.id]=st(st({},r.dataOfShuttles[t.id]),t)})),r.shuttleRegistrationService.afterUnregistration((function(t){delete r.dataOfShuttles[t]})),r.addSubscriptions(),r}return rt(e,t),e.prototype.onDataChange=function(t){for(var e=0,n=JSON.parse(t);e<n.length;e++){var i=n[e];i.id in this.dataOfShuttles&&(i.accident&&(i.state=o.Kd.Accident),this.updatePositionIfChanged(i.id,i.position),this.updateStateIfChanged(i.id,i),this.dataOfShuttles[i.id]=st(st({},this.dataOfShuttles[i.id]),i))}},e.prototype.updatePositionIfChanged=function(t,e){return at(this,void 0,void 0,(function(){var n,o;return ct(this,(function(i){var r,s;return r=e,s=this.dataOfShuttles[t].position,(r.x!==s.x||r.y!==s.y||r.z!==s.z||r.rX!==s.rX||r.rY!==s.rY||r.rZ!==s.rZ)&&(null===(o=(n=this.dataOfShuttles[t]).onPositionChange)||void 0===o||o.call(n,e)),[2]}))}))},e.prototype.updateStateIfChanged=function(t,e){return at(this,void 0,void 0,(function(){return ct(this,(function(n){return this.dataOfShuttles[t].state!==e.state&&this.updateState(t,e.state),[2]}))}))},e.prototype.updateState=function(t,e){var n,i,r,s,a,c,u,p,l,h,f,d,y,g,v,m,S,w,b,A;e===o.Kd.Wait?null===(i=(n=this.dataOfShuttles[t]).onPowerOn)||void 0===i||i.call(n):e===o.Kd.Error?null===(s=(r=this.dataOfShuttles[t]).onError)||void 0===s||s.call(r):function(t){return t===o.Kd.Motion||t===o.Kd.Stopping||t===o.Kd.Discovering}(e)?null===(c=(a=this.dataOfShuttles[t]).onMotion)||void 0===c||c.call(a):e===o.Kd.Idling?null===(p=(u=this.dataOfShuttles[t]).onIdling)||void 0===p||p.call(u):e===o.Kd.Obstacle?null===(h=(l=this.dataOfShuttles[t]).onObstacle)||void 0===h||h.call(l):e===o.Kd.Landed?null===(d=(f=this.dataOfShuttles[t]).onLanded)||void 0===d||d.call(f):function(t){return t===o.Kd.Stopped||t===o.Kd.Hold}(e)?null===(g=(y=this.dataOfShuttles[t]).onStopping)||void 0===g||g.call(y):e===o.Kd.Accident?null===(m=(v=this.dataOfShuttles[t]).onAccident)||void 0===m||m.call(v):null===(w=(S=this.dataOfShuttles[t]).onPowerOff)||void 0===w||w.call(S),null===(A=(b=this.dataOfShuttles[t]).onStateChange)||void 0===A||A.call(b,e)},e.prototype.onPowerOn=function(t,e){this.dataOfShuttles[t]=st(st({},this.dataOfShuttles[t]),{onPowerOn:e}),this.addEventListener(ot.DataOfShuttles,this.onDataChangeCallback,et.A.TYPE_STRING,{samplingRate:"fast"})},e.prototype.onPowerOff=function(t,e){this.dataOfShuttles[t]=st(st({},this.dataOfShuttles[t]),{onPowerOff:e}),this.addEventListener(ot.DataOfShuttles,this.onDataChangeCallback,et.A.TYPE_STRING,{samplingRate:"fast"})},e.prototype.onError=function(t,e){this.dataOfShuttles[t]=st(st({},this.dataOfShuttles[t]),{onError:e}),this.addEventListener(ot.DataOfShuttles,this.onDataChangeCallback,et.A.TYPE_STRING,{samplingRate:"fast"})},e.prototype.onMotion=function(t,e){this.dataOfShuttles[t]=st(st({},this.dataOfShuttles[t]),{onMotion:e}),this.addEventListener(ot.DataOfShuttles,this.onDataChangeCallback,et.A.TYPE_STRING,{samplingRate:"fast"})},e.prototype.onIdling=function(t,e){this.dataOfShuttles[t]=st(st({},this.dataOfShuttles[t]),{onIdling:e}),this.addEventListener(ot.DataOfShuttles,this.onDataChangeCallback,et.A.TYPE_STRING,{samplingRate:"fast"})},e.prototype.onLanded=function(t,e){this.dataOfShuttles[t]=st(st({},this.dataOfShuttles[t]),{onLanded:e}),this.addEventListener(ot.DataOfShuttles,this.onDataChangeCallback,et.A.TYPE_STRING,{samplingRate:"fast"})},e.prototype.onStopping=function(t,e){this.dataOfShuttles[t]=st(st({},this.dataOfShuttles[t]),{onStopping:e}),this.addEventListener(ot.DataOfShuttles,this.onDataChangeCallback,et.A.TYPE_STRING,{samplingRate:"fast"})},e.prototype.onObstacle=function(t,e){this.dataOfShuttles[t]=st(st({},this.dataOfShuttles[t]),{onObstacle:e}),this.addEventListener(ot.DataOfShuttles,this.onDataChangeCallback,et.A.TYPE_STRING,{samplingRate:"fast"})},e.prototype.onAccident=function(t,e){this.dataOfShuttles[t]=st(st({},this.dataOfShuttles[t]),{onAccident:e}),this.addEventListener(ot.DataOfShuttles,this.onDataChangeCallback,et.A.TYPE_STRING,{samplingRate:"fast"})},e.prototype.onStateChange=function(t,e){this.dataOfShuttles[t]=st(st({},this.dataOfShuttles[t]),{onStateChange:e}),this.addEventListener(ot.DataOfShuttles,this.onDataChangeCallback,et.A.TYPE_STRING,{samplingRate:"fast"})},e.prototype.onPositionChange=function(t,e){this.dataOfShuttles[t]=st(st({},this.dataOfShuttles[t]),{onPositionChange:e}),this.addEventListener(ot.DataOfShuttles,this.onDataChangeCallback,et.A.TYPE_STRING,{samplingRate:"fast"})},e.prototype.onRegistration=function(t){this.shuttleRegistrationService.onRegistration(t)},e.prototype.onUnregistration=function(t){this.shuttleRegistrationService.onUnregistration(t)},e}(nt.A);var lt={State:"Assembly state",IsPowered:"Is powered",DataOfZones:"Data of zones",DataOfPowerSectors:"Data of power sectors"},ht={PowerOn:"Power on",PowerOff:"Power off"},ft=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dt=function(){return dt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},dt.apply(this,arguments)};const yt=function(t){function e(e,n,o,i){var r=t.call(this,e,n,i)||this;return r.zoneRegistrationService=o,r.dataOfZones={},r.onDataChangeCallback=function(t){return r.onDataChange(t)},r.zoneRegistrationService.afterRegistration((function(t){void 0!==t.state&&r.updateState(t.id,t.state),r.dataOfZones[t.id]=dt(dt({},r.dataOfZones[t.id]),t)})),r.zoneRegistrationService.afterUnregistration((function(t){delete r.dataOfZones[t]})),r.addSubscriptions(),r}return ft(e,t),e.prototype.onDataChange=function(t){for(var e=0,n=JSON.parse(t);e<n.length;e++){var o=n[e];o.id in this.dataOfZones&&(this.updateStateIfChanged(o.id,o.state),this.dataOfZones[o.id]=dt(dt({},this.dataOfZones[o.id]),o))}},e.prototype.updateStateIfChanged=function(t,e){this.dataOfZones[t].state!==e&&this.updateState(t,e)},e.prototype.updateState=function(t,e){var n,i,r,s,a,c,u,p;e===o.$N.ActiveClosed?null===(i=(n=this.dataOfZones[t]).onActivateClosed)||void 0===i||i.call(n):e===o.$N.ActiveOpen?null===(s=(r=this.dataOfZones[t]).onActivateOpen)||void 0===s||s.call(r):e===o.$N.Error?null===(c=(a=this.dataOfZones[t]).onError)||void 0===c||c.call(a):null===(p=(u=this.dataOfZones[t]).onDeactivate)||void 0===p||p.call(u)},e.prototype.onActivateClosed=function(t,e){this.dataOfZones[t]=dt(dt({},this.dataOfZones[t]),{onActivateClosed:e}),this.addEventListener(lt.DataOfZones,this.onDataChangeCallback)},e.prototype.onActivateOpen=function(t,e){this.dataOfZones[t]=dt(dt({},this.dataOfZones[t]),{onActivateOpen:e}),this.addEventListener(lt.DataOfZones,this.onDataChangeCallback)},e.prototype.onDeactivate=function(t,e){this.dataOfZones[t]=dt(dt({},this.dataOfZones[t]),{onDeactivate:e}),this.addEventListener(lt.DataOfZones,this.onDataChangeCallback)},e.prototype.onError=function(t,e){this.dataOfZones[t]=dt(dt({},this.dataOfZones[t]),{onError:e}),this.addEventListener(lt.DataOfZones,this.onDataChangeCallback)},e.prototype.onRegistration=function(t){this.zoneRegistrationService.onRegistration(t)},e.prototype.onUnregistration=function(t){this.zoneRegistrationService.onUnregistration(t)},e}(nt.A);var gt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vt=function(){return vt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},vt.apply(this,arguments)};const mt=function(t){function e(e,n,o){var i=t.call(this,e,n,o)||this;return i.dataOfPowerSectors={},i.onDataChangeCallback=function(t){return i.onDataChange(t)},i.addSubscriptions(),i}return gt(e,t),e.prototype.onDataChange=function(t){for(var e=0,n=JSON.parse(t);e<n.length;e++){var o=n[e];o.id in this.dataOfPowerSectors&&(this.updateStateIfChanged(o.id,o.state),this.dataOfPowerSectors[o.id]=vt(vt({},this.dataOfPowerSectors[o.id]),o))}},e.prototype.updateStateIfChanged=function(t,e){this.dataOfPowerSectors[t].state!==e&&this.updateState(t,e)},e.prototype.updateState=function(t,e){var n,i,r,s,a,c,u,p,l,h;e===o.Cw.ActiveClosed?null===(i=(n=this.dataOfPowerSectors[t]).onActivateClosed)||void 0===i||i.call(n):e===o.Cw.ActiveOpen?null===(s=(r=this.dataOfPowerSectors[t]).onActivateOpen)||void 0===s||s.call(r):e===o.Cw.Error?null===(c=(a=this.dataOfPowerSectors[t]).onError)||void 0===c||c.call(a):e===o.Cw.Disconnected?null===(p=(u=this.dataOfPowerSectors[t]).onDisconnect)||void 0===p||p.call(u):null===(h=(l=this.dataOfPowerSectors[t]).onDeactivate)||void 0===h||h.call(l)},e.prototype.onDisconnect=function(t,e){this.dataOfPowerSectors[t]=vt(vt({},this.dataOfPowerSectors[t]),{onDisconnect:e}),this.addEventListener(lt.DataOfPowerSectors,this.onDataChangeCallback)},e.prototype.onActivateClosed=function(t,e){this.dataOfPowerSectors[t]=vt(vt({},this.dataOfPowerSectors[t]),{onActivateClosed:e}),this.addEventListener(lt.DataOfPowerSectors,this.onDataChangeCallback)},e.prototype.onActivateOpen=function(t,e){this.dataOfPowerSectors[t]=vt(vt({},this.dataOfPowerSectors[t]),{onActivateOpen:e}),this.addEventListener(lt.DataOfPowerSectors,this.onDataChangeCallback)},e.prototype.onDeactivate=function(t,e){this.dataOfPowerSectors[t]=vt(vt({},this.dataOfPowerSectors[t]),{onDeactivate:e}),this.addEventListener(lt.DataOfPowerSectors,this.onDataChangeCallback)},e.prototype.onError=function(t,e){this.dataOfPowerSectors[t]=vt(vt({},this.dataOfPowerSectors[t]),{onError:e}),this.addEventListener(lt.DataOfPowerSectors,this.onDataChangeCallback)},e}(nt.A);var St=function(){return St=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},St.apply(this,arguments)},wt=function(){this.shuttle=new U,this.segment=new w};const bt=function(){function t(t){this.options=t||new wt}return t.prototype.createAssembly=function(t){return new W(t)},t.prototype.createLayout=function(t){return new K(t)},t.prototype.createSegment=function(t){return new T(t,this.options.segment)},t.prototype.createShuttle=function(t,e){return new z(function(t){return"shuttle-".concat(t)}(t),t,e,this.options.shuttle)},t.prototype.createZone=function(t,e,n){var o=St(St({},e),{y:n.y});return new J(function(t){return"zone-".concat(t)}(t),function(t,e){var n={width:0,height:0};return n.width=Math.abs(e.x-t.x),n.height=Math.abs(e.y-t.y),n}(e,n),o)},t.prototype.createPowerSector=function(t,e){return new tt(function(t){return"power-sector-".concat(t)}(t),e)},t}();var At;!function(t){t[t.N=2]="N",t[t.NE=1]="NE",t[t.E=0]="E",t[t.SE=7]="SE",t[t.S=6]="S",t[t.SW=5]="SW",t[t.W=4]="W",t[t.NW=3]="NW"}(At||(At={}));const Ct=function(){function t(t){this.startParameters=t,this.direction=At.SE,this.neighbourPositionKernel=[{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1},{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1}],this.borderFields=new Map([[JSON.stringify(this.startParameters.startField.fieldPosition),this.startParameters.startField]])}return t.prototype.onBorderPositionDetected=function(t){this.onBorderPositionDetectedCallback=t},t.prototype.process=function(){var t,e,n,o=new Map(this.startParameters.fields),i=this.startParameters.startField,r=void 0;null===(t=this.onBorderPositionDetectedCallback)||void 0===t||t.call(this,i,this.direction,r),o.delete(JSON.stringify(i.fieldPosition));var s,a,c=this.startParameters.startField;do{r=i,void 0!==(i=this.searchNeighbour(i,this.startParameters.fields))&&(c=i,this.borderFields.has(JSON.stringify(i.fieldPosition))||(this.borderFields.set(JSON.stringify(i.fieldPosition),i),o.delete(JSON.stringify(i.fieldPosition))),null===(e=this.onBorderPositionDetectedCallback)||void 0===e||e.call(this,i,this.direction,r),this.updateDirection())}while(void 0!==i&&(s=i.position,a=this.startParameters.startField.position,s.x!==a.x||s.y!==a.y)&&o.size>0);if(0===o.size){r=c;var u=this.searchNeighbour(c,this.startParameters.fields);null===(n=this.onBorderPositionDetectedCallback)||void 0===n||n.call(this,u,this.direction,r)}},t.prototype.searchNeighbour=function(t,e){for(var n=0;n<this.neighbourPositionKernel.length;){var o=this.neighbourPositionKernel[this.direction],i={x:t.fieldPosition.x+o.x,y:t.fieldPosition.y+o.y},r=e.get(JSON.stringify(i));if(r)return r;this.direction=(this.direction+1)%this.neighbourPositionKernel.length,++n}},t.prototype.updateDirection=function(){this.direction%2==0?this.direction=(this.direction+7)%this.neighbourPositionKernel.length:this.direction=(this.direction+6)%this.neighbourPositionKernel.length},t}();var Ot=function(){return Ot=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ot.apply(this,arguments)},Pt=function(){function t(){this._dimension={width:240,height:240}}return Object.defineProperty(t.prototype,"dimension",{get:function(){return this._dimension},set:function(t){this._dimension.width=t.width,this._dimension.height=t.height},enumerable:!1,configurable:!0}),t.getBottomLeftCornerOfPosition=function(t){return Ot({},t)},t.getBottomRightCornerOfPosition=function(t,e){return{x:t.x+e.width,y:t.y}},t.getTopLeftCornerOfPosition=function(t,e){return{x:t.x,y:t.y+e.height}},t.getTopRightCornerOfPosition=function(t,e){return{x:t.x+e.width,y:t.y+e.height}},t.instance=new t,t}();function xt(t){return"L ".concat(t.x," -").concat(t.y)}function Et(t){return xt(Pt.getTopRightCornerOfPosition(t.position,t.dimension))}function _t(t){return xt(Pt.getBottomLeftCornerOfPosition(t.position))}function Dt(t){return xt(Pt.getTopLeftCornerOfPosition(t.position,t.dimension))}function Tt(t){return xt(Pt.getBottomRightCornerOfPosition(t.position,t.dimension))}function Mt(t,e,n){var o="";return!n||e!==At.S&&e!==At.SE||(o="".concat(Tt(n)," ")),o+Et(t)}function Ft(t,e,n){var o="";return n&&(o=Tt(n),o+=" ".concat(xt({x:n.position.x+n.dimension.width,y:t.position.y}))),o+" ".concat(Tt(t))}function It(t,e,n){var o="";return!n||e!==At.W&&e!==At.SW||(o="".concat(_t(n)," ")),o+Tt(t)}function kt(t,e,n){var o="";return n&&(o=Tt(n),o+=" ".concat(xt({x:t.position.x,y:n.position.y}))),o+" ".concat(_t(t))}function Rt(t,e,n){var o="";return!n||e!==At.N&&e!==At.NW||(o="".concat(Dt(n)," ")),o+_t(t)}function Nt(t,e,n){var o="";return n&&(o=Dt(n),o+=" ".concat(xt({x:n.position.x,y:t.position.y+t.dimension.height}))),o+" ".concat(Dt(t))}function Lt(t,e,n){var o="";return!n||e!==At.E&&e!==At.NE||(o="".concat(Et(n)," ")),o+Dt(t)}function Bt(t,e,n){var o="";return n&&(o=Et(n),o+=" ".concat(xt({x:t.position.x+t.dimension.width,y:n.position.y+n.dimension.height}))),o+" ".concat(Et(t))}Pt.instance;const Ut=function(){function t(t){this.startParameters=t,this.innerBoundaryTracing=new Ct(this.startParameters),this.path="",this.detectedFieldToPathFunctions=[It,Ft,Mt,Bt,Lt,Nt,Rt,kt];var e=Pt.getTopLeftCornerOfPosition(t.startField.position,t.startField.dimension);this.path="M ".concat(e.x," -").concat(e.y," ").concat(_t(t.startField))}return t.prototype.process=function(){var t=this;if(1===this.startParameters.fields.size)this.path+=" ".concat(Tt(this.startParameters.startField)," ").concat(Et(this.startParameters.startField)," ").concat(Dt(this.startParameters.startField));else{var e=void 0;this.innerBoundaryTracing.onBorderPositionDetected((function(n,o,i){void 0!==e&&(t.path+=" ".concat(t.detectedFieldToPathFunctions[o](n,e,i))),e=o})),this.innerBoundaryTracing.process()}return this.path+=" Z",this.path},t}(),jt=function(){function t(t,e,n,o){this.id=t,this._segments=e,this.svg=n,this.dataAccess=o,this.registerDataAccessCallbacks()}return Object.defineProperty(t.prototype,"segments",{get:function(){return this._segments},enumerable:!1,configurable:!0}),t.prototype.remove=function(){this.svg.remove()},t.prototype.disconnect=function(){this.svg.disconnect()},t.prototype.activateClosed=function(){this.svg.activateClosed()},t.prototype.activateOpen=function(){this.svg.activateOpen()},t.prototype.deactivate=function(){this.svg.deactivate()},t.prototype.setError=function(){this.svg.setError()},t.prototype.registerDataAccessCallbacks=function(){var t=this;this.dataAccess.onDisconnect((function(){return t.disconnect()})),this.dataAccess.onActivateClosed((function(){return t.activateClosed()})),this.dataAccess.onActivateOpen((function(){return t.activateOpen()})),this.dataAccess.onDeactivate((function(){return t.deactivate()})),this.dataAccess.onError((function(){return t.setError()}))},t.prototype.dispose=function(){this.remove(),this.dataAccess.dispose(),this._segments=[]},t}();var zt=function(){this.shuttle=new $,this.segment=new I};const Zt=function(){function t(t,e){this.dataAccessFactory=t,this.options=e||new zt,this.svgComponentFactory=new bt(this.options)}return t.prototype.createAssembly=function(t,e){return new l(t,this.svgComponentFactory.createAssembly(e),this.dataAccessFactory.createAssemblyDataAccess(e.id))},t.prototype.createLayout=function(t,e){return new h(t,this.svgComponentFactory.createLayout(e))},t.prototype.createSegment=function(t,e){var n=this.svgComponentFactory.createSegment(e);return new k(t,n,this.dataAccessFactory.createSegmentDataAccess(n.uniqueSegmentName),this.options.segment)},t.prototype.createShuttle=function(t,e){return new G(t,this.svgComponentFactory.createShuttle(t,p(e)),this.dataAccessFactory.createShuttleDataAccess(t))},t.prototype.createZone=function(t,e,n){return e=(0,r.fR)(e),n=(0,r.fR)(n),new Y(t,this.svgComponentFactory.createZone(t,e,n),this.dataAccessFactory.createZoneDataAccess(t))},t.prototype.createPowerSector=function(t,e){var n=new Ut(function(t){for(var e={fields:new Map,startField:{position:t[0].gridFields[0].position,fieldPosition:t[0].gridFields[0].fieldPosition,dimension:t[0].gridFields[0].dimension}},n=0,o=t;n<o.length;n++)for(var i=0,r=o[n].gridFields;i<r.length;i++){var s=r[i],a=s.position;(a.x<e.startField.position.x||a.x==e.startField.position.x&&a.y<e.startField.position.y)&&(e.startField.position=a,e.startField.fieldPosition=s.fieldPosition,e.startField.dimension=s.dimension),e.fields.set(JSON.stringify(s.fieldPosition),s)}return e}(e));return new jt(t,e,this.svgComponentFactory.createPowerSector(t,n.process()),this.dataAccessFactory.createPowerSectorDataAccess(t))},t}();var Ht=n(867),$t=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const Gt=function(t){function e(e,n){var o=t.call(this,n)||this;return o.componentFactory=e,o}return $t(e,t),e.prototype.getAssemblyId=function(){return this.getElementByClassNameOfSvg(this.svg,o.L7.Assembly).id},e.prototype.getAssembly=function(){return this._assembly},e.prototype.onClick=function(t){this.onClickCallback=t},e.prototype.onDetectPowerSectorSegment=function(t){this.onDetectPowerSectorSegmentCallback=t},e.prototype.parse=function(){for(var t,e=this.getElementByClassNameOfSvg(this.svg,o.L7.Layout),n=this.componentFactory.createLayout(e.id,e),i=this.getElementsByClassNameOfSvg(this.svg,o.L7.Segment),r=0;r<i.length;++r){var s=this.componentFactory.createSegment(null!==(t=i[r].getAttributeNS(null,"segment-id"))&&void 0!==t?t:i[r].id,i[r]);this.onClickCallback&&s.onClick(this.onClickCallback),s.isPowerSector()&&this.onDetectPowerSectorSegmentCallback&&this.onDetectPowerSectorSegmentCallback(s),n.addSegment(s)}var a=this.getElementByClassNameOfSvg(this.svg,o.L7.Assembly);this._assembly=this.componentFactory.createAssembly(a.id,a),this._assembly.addLayout(n)},e}(Ht.A);var Yt=function(){return Yt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Yt.apply(this,arguments)};const Vt=function(){function t(t,e,n){var o=this;this.element=t,this.assemblyId=e,this.options=n,this.onClickCallback=function(n){var r,s=Yt({},n);s.assemblyId=e;var a=o.clickedComponent;o.clickedComponent=s.sourceComponent,(null===(r=o.options)||void 0===r?void 0:r.useFocus)&&(a&&a.removeFocus(),o.clickedComponent===a?o.clickedComponent=void 0:o.clickedComponent&&o.clickedComponent.setFocus()),t.dispatchEvent(new CustomEvent(i.s.OnClick,{detail:s,bubbles:!0}))}}return t.prototype.getOnClickCallback=function(){return this.onClickCallback},t.prototype.getComponentOnFocus=function(){var t;if(null===(t=this.options)||void 0===t?void 0:t.useFocus)return this.clickedComponent},t}(),Wt=function(){function t(){this.powerSectors=new Map}return t.prototype.addSegment=function(t){var e=t.getPowerSectorId(),n=this.powerSectors.get(e);n?n.push(t):this.powerSectors.set(e,[t])},t}(),Xt=function(){function t(t,e,n){this.configParser=t,this.componentFactory=e,this.dataAccessFactory=n,this._addShuttles=!0,this._addZones=!1,this._addPowerSectors=!1,this.powerSectorContainer=new Wt,this.usePowerSectorContainer(this.powerSectorContainer)}return t.prototype.getAssembly=function(){return this.assembly},t.prototype.getComponent=function(){return this.getAssembly()},t.prototype.usePowerSectorContainer=function(t){return this.powerSectorContainer=t,this.configParser.onDetectPowerSectorSegment((function(e){t.addSegment(e)})),this},t.prototype.useOnClickHandler=function(t){return this.onClickHandler=t,this},t.prototype.removeShuttles=function(){return this._addShuttles=!1,this},t.prototype.addZones=function(){return this._addZones=!0,this},t.prototype.addPowerSectors=function(){return this._addPowerSectors=!0,this},t.prototype.build=function(){return this.onClickHandler&&this.configParser.onClick(this.onClickHandler.getOnClickCallback()),this.configParser.parse(),this.assembly=this.configParser.getAssembly(),this.buildComponents(),this.assembly},t.prototype.buildComponents=function(){this.assembly&&(this._addShuttles&&this.addShuttleComponents(this.assembly),this._addZones&&this.addZoneComponents(this.assembly),this._addPowerSectors&&this.addPowerSectorComponents(this.assembly))},t.prototype.addShuttleComponents=function(t){var e=this;this.dataAccessFactory.getShuttlesDataAccess().onRegistration((function(n){var o=e.componentFactory.createShuttle(n.id,n.dimension);o.position=n.position,o.state=n.state,e.onClickHandler&&o.onClick(e.onClickHandler.getOnClickCallback()),t.addShuttle(o)})),this.dataAccessFactory.getShuttlesDataAccess().onUnregistration((function(e){return t.removeShuttle(e)}))},t.prototype.addZoneComponents=function(t){var e=this;this.dataAccessFactory.getZonesDataAccess().onRegistration((function(n){var o=e.componentFactory.createZone(n.id,n.bottomLeft,n.topRight);t.addZone(o)})),this.dataAccessFactory.getZonesDataAccess().onUnregistration((function(e){return t.removeZone(e)}))},t.prototype.addPowerSectorComponents=function(t){var e=this;this.powerSectorContainer.powerSectors.forEach((function(n,o){t.addPowerSector(e.componentFactory.createPowerSector(o,n))}))},t}();var Kt={State:"Segment state",IsPowered:"Is powered",AmplifierTemperature:"Amplifier temperature",MotorTemperature:"Motor temperature",CpuTemperature:"CPU temperature",Power:"Power"},qt={PowerOn:"Power on",PowerOff:"Power off"},Jt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const Qt=function(t){function e(e,n,o){var i=t.call(this,e,n,o)||this;return i.addSubscriptions(),i}return Jt(e,t),e.prototype.onPowerOn=function(t){},e.prototype.onPowerOff=function(t){},e.prototype.onError=function(t){},e.prototype.onHoming=function(t){},e.prototype.onStopping=function(t){},e.prototype.onMotorTemperatureChange=function(t){this.addEventListener(Kt.MotorTemperature,t)},e}(nt.A),te=function(){function t(t,e){this.shuttleId=t,this.shuttlesDataAccess=e}return t.prototype.addEventListener=function(t,e,n,o){void 0===n&&(n=et.A.TYPE_STRING),this.shuttlesDataAccess.addEventListener(t,e,n,o)},t.prototype.executeMethod=function(t,e,n){return void 0===n&&(n=et.A.TYPE_STRING),this.shuttlesDataAccess.executeMethod(t,e,n)},t.prototype.removeSubscriptions=function(){this.shuttlesDataAccess.removeSubscriptions()},t.prototype.addSubscriptions=function(){this.shuttlesDataAccess.addSubscriptions()},t.prototype.onPowerOn=function(t){this.shuttlesDataAccess.onPowerOn(this.shuttleId,t)},t.prototype.onPowerOff=function(t){this.shuttlesDataAccess.onPowerOff(this.shuttleId,t)},t.prototype.onError=function(t){this.shuttlesDataAccess.onError(this.shuttleId,t)},t.prototype.onMotion=function(t){this.shuttlesDataAccess.onMotion(this.shuttleId,t)},t.prototype.onIdling=function(t){this.shuttlesDataAccess.onIdling(this.shuttleId,t)},t.prototype.onLanded=function(t){this.shuttlesDataAccess.onLanded(this.shuttleId,t)},t.prototype.onStopping=function(t){this.shuttlesDataAccess.onStopping(this.shuttleId,t)},t.prototype.onObstacle=function(t){this.shuttlesDataAccess.onObstacle(this.shuttleId,t)},t.prototype.onAccident=function(t){this.shuttlesDataAccess.onAccident(this.shuttleId,t)},t.prototype.onStateChange=function(t){this.shuttlesDataAccess.onStateChange(this.shuttleId,t)},t.prototype.onPositionChange=function(t){this.shuttlesDataAccess.onPositionChange(this.shuttleId,t)},t.prototype.dispose=function(){},t}();var ee=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const ne=function(t){function e(e,n,o){var i=t.call(this,e,n,o)||this;return i.onPowerOnCallback=null,i.onPowerOffCallback=null,i.onErrorCallback=null,i.onHomingCallback=null,i.onStoppingCallback=null,i.onStateChangeCallback=function(t){return i.updateState(t)},i.addSubscriptions(),i}return ee(e,t),e.prototype.onPowerOn=function(t){this.onPowerOnCallback=t,this.addEventListener(lt.State,this.onStateChangeCallback)},e.prototype.onPowerOff=function(t){this.onPowerOffCallback=t,this.addEventListener(lt.State,this.onStateChangeCallback)},e.prototype.onError=function(t){this.onErrorCallback=t,this.addEventListener(lt.State,this.onStateChangeCallback)},e.prototype.onHoming=function(t){this.onHomingCallback=t,this.addEventListener(lt.State,this.onStateChangeCallback)},e.prototype.onStopping=function(t){this.onStoppingCallback=t,this.addEventListener(lt.State,this.onStateChangeCallback)},e.prototype.updateState=function(t){var e,n,i,r,s,a=t;a===o.CB.Ready?null===(e=this.onPowerOnCallback)||void 0===e||e.call(this):function(t){return t===o.CB.ErrorStop||t===o.CB.InvalidConfiguration}(a)?null===(n=this.onErrorCallback)||void 0===n||n.call(this):a===o.CB.Homing?null===(i=this.onHomingCallback)||void 0===i||i.call(this):a===o.CB.Stopping?null===(r=this.onStoppingCallback)||void 0===r||r.call(this):null===(s=this.onPowerOffCallback)||void 0===s||s.call(this)},e}(nt.A);var oe=n(198);const ie=function(){function t(t,e,n,o,i){this.opcUaNodeBindingEventManager=t,this.nodeId=e,this.namespace=n,this.idType=o,this.bindingOptions=i}return t.prototype.subscribe=function(t,e,n){return this.opcUaNodeBindingEventManager.subscribe(this.nodeId,t,this.namespace,this.idType,e,n||this.bindingOptions),new oe.A(this.opcUaNodeBindingEventManager,this.nodeId,t,e)},t.prototype.unsubscribe=function(t,e){this.opcUaNodeBindingEventManager.unsubscribe(this.nodeId,t,e)},t.prototype.executeMethod=function(t,e){return this.opcUaNodeBindingEventManager.executeMethod(this.nodeId,t,this.namespace,this.idType,e)},t}();var re=n(605),se=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const ae=function(t){function e(e,n,o,i,r,s){var a=t.call(this,e,n,i)||this;return a.parameterId=o,a.idType=r,a.bindingOptions=s,a.registeredIds=new Set,a.onRegistrationCallbacks=[],a.onUnregistrationCallbacks=[],a.afterRegistrationCallback=null,a.afterUnregistrationCallback=null,a.lock=new re.A,a.onRegisteredDataChangeCallback=function(t){return a.updateRegisteredData(t)},a.addSubscriptions(),a}return se(e,t),e.prototype.onRegistration=function(t){this.onRegistrationCallbacks.push(t),this.addEventListener(this.parameterId,this.onRegisteredDataChangeCallback,this.idType,this.bindingOptions)},e.prototype.onUnregistration=function(t){this.onUnregistrationCallbacks.push(t),this.addEventListener(this.parameterId,this.onRegisteredDataChangeCallback,this.idType,this.bindingOptions)},e.prototype.afterRegistration=function(t){this.afterRegistrationCallback=t},e.prototype.afterUnregistration=function(t){this.afterUnregistrationCallback=t},e.prototype.updateRegisteredData=function(t){return e=this,n=void 0,i=function(){var e,n,o,i,r,s,a,c,u,p=this;return function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(l){switch(l.label){case 0:return l.trys.push([0,,7,8]),[4,this.lock.aquire()];case 1:l.sent(),e=JSON.parse(t),n=this.registeredIds.size,o=0,i=new Set,r=e.pop(),l.label=2;case 2:return r?(i.add(r.id),this.registeredIds.has(r.id)?(++o,[3,5]):[3,3]):[3,6];case 3:return[4,this.processDataForRegistration(r)];case 4:for(s=l.sent(),a=0,c=this.onRegistrationCallbacks;a<c.length;a++)(0,c[a])(s);null===(u=this.afterRegistrationCallback)||void 0===u||u.call(this,s),this.registeredIds.add(r.id),l.label=5;case 5:return r=e.pop(),[3,2];case 6:return o!==n&&this.registeredIds.forEach((function(t){var e;if(!i.has(t)){for(var n=0,o=p.onUnregistrationCallbacks;n<o.length;n++)(0,o[n])(t);p.registeredIds.delete(t),null===(e=p.afterUnregistrationCallback)||void 0===e||e.call(p,t)}})),[3,8];case 7:return this.lock.release(),[7];case 8:return[2]}}))},new((o=void 0)||(o=Promise))((function(t,r){function s(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,o,i},e}(nt.A);var ce=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const ue=function(t){function e(e,n,o){var i=t.call(this,e,n,ot.DataOfShuttles,o,et.A.TYPE_STRING,{samplingRate:"fast"})||this;return i.shuttlesOpcUaNodeService=new ie(e,n,o,et.A.TYPE_STRING),i}return ce(e,t),e.prototype.processDataForRegistration=function(t){return e=this,n=void 0,s=function(){var e,n;return function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(i){switch(i.label){case 0:return[4,this.shuttlesOpcUaNodeService.executeMethod(it.GetDimensionById,{ShuttleID:t.id})];case 1:return e=i.sent(),(n=t).accident&&(n.state=o.Kd.Accident),[2,{id:n.id,dimension:{width:(0,r.Fx)(e.Width),height:(0,r.Fx)(e.Height)},position:n.position,state:n.state,accident:n.accident}]}}))},new((i=void 0)||(i=Promise))((function(t,o){function r(t){try{c(s.next(t))}catch(t){o(t)}}function a(t){try{c(s.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(r,a)}c((s=s.apply(e,n||[])).next())}));var e,n,i,s},e}(ae);var pe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),le=function(){return le=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},le.apply(this,arguments)};const he=function(t){function e(e,n,o){return t.call(this,e,n,lt.DataOfZones,o,et.A.TYPE_STRING)||this}return pe(e,t),e.prototype.processDataForRegistration=function(t){var e=le({},t);return Promise.resolve(e)},e}(ae),fe=function(){function t(t,e){this.zoneId=t,this.zonesDataAccess=e}return t.prototype.addEventListener=function(t,e,n,o){void 0===n&&(n=et.A.TYPE_STRING),this.zonesDataAccess.addEventListener(t,e,n,o)},t.prototype.executeMethod=function(t,e,n){return void 0===n&&(n=et.A.TYPE_STRING),this.zonesDataAccess.executeMethod(t,e,n)},t.prototype.removeSubscriptions=function(){this.zonesDataAccess.removeSubscriptions()},t.prototype.addSubscriptions=function(){this.zonesDataAccess.addSubscriptions()},t.prototype.onActivateClosed=function(t){this.zonesDataAccess.onActivateClosed(this.zoneId,t)},t.prototype.onActivateOpen=function(t){this.zonesDataAccess.onActivateOpen(this.zoneId,t)},t.prototype.onDeactivate=function(t){this.zonesDataAccess.onDeactivate(this.zoneId,t)},t.prototype.onError=function(t){this.zonesDataAccess.onError(this.zoneId,t)},t.prototype.dispose=function(){},t}(),de=function(){function t(t,e){this.powerSectorId=t,this.powerSectorsDataAccess=e}return t.prototype.addEventListener=function(t,e,n,o){void 0===n&&(n=et.A.TYPE_STRING),this.powerSectorsDataAccess.addEventListener(t,e,n,o)},t.prototype.executeMethod=function(t,e,n){return void 0===n&&(n=et.A.TYPE_STRING),this.powerSectorsDataAccess.executeMethod(t,e,n)},t.prototype.removeSubscriptions=function(){this.powerSectorsDataAccess.removeSubscriptions()},t.prototype.addSubscriptions=function(){this.powerSectorsDataAccess.addSubscriptions()},t.prototype.onDisconnect=function(t){this.powerSectorsDataAccess.onDisconnect(this.powerSectorId,t)},t.prototype.onActivateClosed=function(t){this.powerSectorsDataAccess.onActivateClosed(this.powerSectorId,t)},t.prototype.onActivateOpen=function(t){this.powerSectorsDataAccess.onActivateOpen(this.powerSectorId,t)},t.prototype.onDeactivate=function(t){this.powerSectorsDataAccess.onDeactivate(this.powerSectorId,t)},t.prototype.onError=function(t){this.powerSectorsDataAccess.onError(this.powerSectorId,t)},t.prototype.dispose=function(){},t}();var ye=n(84);const ge=function(){function t(t,e,n,o){this.opcUaNodeBindingEventManager=t,this.mpLink=e,this.namespace=n,this.dataAccessContainer=o||new ye.A}return t.prototype.createSegmentDataAccess=function(t){var e=new Qt(this.opcUaNodeBindingEventManager,t,this.namespace);return this.dataAccessContainer.addDataAccess(e),e},t.prototype.createAssemblyDataAccess=function(t){var e=new ne(this.opcUaNodeBindingEventManager,t,this.namespace);return this.dataAccessContainer.addDataAccess(e),e},t.prototype.createShuttleDataAccess=function(t){var e=new te(t,this.getShuttlesDataAccessOpcUa());return this.dataAccessContainer.addDataAccess(e),e},t.prototype.createShuttlesDataAccess=function(t){return this.createShuttlesDataAccessOpcUa(t)},t.prototype.createShuttleRegistrationService=function(){var t=new ue(this.opcUaNodeBindingEventManager,ut(this.mpLink),this.namespace);return this.dataAccessContainer.addDataAccess(t),t},t.prototype.createShuttlesDataAccessOpcUa=function(t){var e=new pt(this.opcUaNodeBindingEventManager,t,this.getShuttleRegistrationService(),this.namespace);return this.dataAccessContainer.addDataAccess(e),e},t.prototype.getShuttlesDataAccessOpcUa=function(){return this.shuttlesDataAccess||(this.shuttlesDataAccess=this.createShuttlesDataAccessOpcUa(ut(this.mpLink))),this.shuttlesDataAccess},t.prototype.getShuttlesDataAccess=function(){return this.getShuttlesDataAccessOpcUa()},t.prototype.getShuttleRegistrationService=function(){return this.shuttleRegistrationService||(this.shuttleRegistrationService=this.createShuttleRegistrationService()),this.shuttleRegistrationService},t.prototype.createZoneDataAccess=function(t){var e=new fe(t,this.getZonesDataAccessOpcUa());return this.dataAccessContainer.addDataAccess(e),e},t.prototype.createZonesDataAccess=function(t){return this.createZonesDataAccessOpcUa(t)},t.prototype.createZoneRegistrationService=function(){var t=new he(this.opcUaNodeBindingEventManager,this.mpLink,this.namespace);return this.dataAccessContainer.addDataAccess(t),t},t.prototype.createZonesDataAccessOpcUa=function(t){var e=new yt(this.opcUaNodeBindingEventManager,t,this.getZoneRegistrationService(),this.namespace);return this.dataAccessContainer.addDataAccess(e),e},t.prototype.getZonesDataAccessOpcUa=function(){return this.zonesDataAccess||(this.zonesDataAccess=this.createZonesDataAccessOpcUa(this.mpLink)),this.zonesDataAccess},t.prototype.getZonesDataAccess=function(){return this.getZonesDataAccessOpcUa()},t.prototype.getZoneRegistrationService=function(){return this.zoneRegistrationService||(this.zoneRegistrationService=this.createZoneRegistrationService()),this.zoneRegistrationService},t.prototype.createPowerSectorDataAccess=function(t){var e=new de(t,this.getPowerSectorsDataAccessOpcUa());return this.dataAccessContainer.addDataAccess(e),e},t.prototype.createPowerSectorsDataAccess=function(t){return this.createPowerSectorsDataAccessOpcUa(t)},t.prototype.createPowerSectorsDataAccessOpcUa=function(t){var e=new mt(this.opcUaNodeBindingEventManager,t,this.namespace);return this.dataAccessContainer.addDataAccess(e),e},t.prototype.getPowerSectorsDataAccessOpcUa=function(){return this.powerSectorsDataAccess||(this.powerSectorsDataAccess=this.createPowerSectorsDataAccessOpcUa(this.mpLink)),this.powerSectorsDataAccess},t.prototype.getPowerSectorsDataAccess=function(){return this.getPowerSectorsDataAccessOpcUa()},t.prototype.getDataAccessContainer=function(){return this.dataAccessContainer},t}();var ve=n(42)},42:function(t,e,n){n.d(e,{A:function(){return s}});var o=n(841),i=n(786),r=function(){this.mergeViewbox=!0,this.append=!1};const s=function(){function t(t){this.svgMergeViewbox=new o.A,this.options=t||new r}return t.prototype.merge=function(t,e){var n=e.parentElement,o=null==n?void 0:n.children,r=t.querySelector(".".concat(i.$p.Shuttles));!this.options.append&&r?r.parentElement.insertBefore(e,r):t.appendChild(e);var s=t.parentElement;if(s){for(;o&&o.length>0;)s.appendChild(o[0]);n&&this.options.mergeViewbox&&this.svgMergeViewbox.merge(s,n)}return t},t}()},693:function(t,e,n){n.r(e),n.d(e,{Assembly6DEvents:function(){return i.Events},Assembly6DGroup:function(){return r.Assembly6DGroup},Assembly6DGroupEvents:function(){return r.Events},AssemblyBuilder:function(){return i.AssemblyBuilder},AssemblyComponentEnum:function(){return i.ComponentEnum},AssemblyComponentFactory:function(){return i.ComponentFactory},AssemblyComponentFactoryOptions:function(){return i.ComponentFactoryOptions},AssemblyConfigParser:function(){return i.ConfigParser},AssemblyDataAccessFactoryOpcUa:function(){return i.DataAccessFactoryOpcUa},AssemblyEventOnClickHandler:function(){return i.EventOnClickHandler},AssemblyOpcUaMethods:function(){return i.AssemblyOpcUaMethods},AssemblyOpcUaParameters:function(){return i.AssemblyOpcUaParameters},AssemblySvg:function(){return i.AssemblySvg},AssemblySvgComponentFactory:function(){return i.SvgComponentFactory},AssemblySvgMerge:function(){return i.AssemblySvgMerge},ConfigProviderJQueryWrapper:function(){return o.ConfigProviderJQueryWrapper},CrosshairSvg:function(){return o.CrosshairSvg},CssClassEnum:function(){return o.CssClassEnum},Lock:function(){return o.Lock},OpcUaNodeBindingEventManagerMappViewWrapper:function(){return o.OpcUaNodeBindingEventManagerMappViewWrapper},OpcUaParameterEventSource:function(){return o.OpcUaParameterEventSource},OpcUaParameterSubscription:function(){return o.OpcUaParameterSubscription},Position:function(){return o.Position},PositionUnitEnum:function(){return o.PositionUnitEnum},PowerSectorContainer:function(){return i.PowerSectorContainer},SegmentAreaDisplayModeEnum:function(){return i.SegmentAreaDisplayModeEnum},SegmentDataAccessParameterEnum:function(){return i.SegmentDataAccessParameterEnum},SegmentOpcUaMethods:function(){return i.SegmentOpcUaMethods},SegmentOpcUaParameters:function(){return i.SegmentOpcUaParameters},SegmentOptions:function(){return i.SegmentOptions},SegmentSvg:function(){return i.SegmentSvg},SegmentSvgOptions:function(){return i.SegmentSvgOptions},ShuttleBase:function(){return i.ShuttleBase},ShuttleOpcUaMethods:function(){return i.ShuttleOpcUaMethods},ShuttleOpcUaParameters:function(){return i.ShuttleOpcUaParameters},ShuttleOptions:function(){return i.ShuttleOptions},ShuttlePositionVisibilityOptions:function(){return i.ShuttlePositionVisibilityOptions},ShuttleStateEnum:function(){return i.ShuttleStateEnum},ShuttleSvg:function(){return i.ShuttleSvg},ShuttleSvgOptions:function(){return i.ShuttleSvgOptions},SvgMergeViewbox:function(){return o.SvgMergeViewbox},SvgReplace:function(){return o.SvgReplace},SvgReplaceOptions:function(){return o.SvgReplaceOptions},SvgUtils:function(){return o.SvgUtils},SvgZoomToMousePosition:function(){return o.SvgZoomToMousePosition},TrafficManagerBuilder:function(){return s.TrafficManagerBuilder},TrafficManagerComponentEnum:function(){return s.ComponentEnum},TrafficManagerComponentFactory:function(){return s.ComponentFactory},TrafficManagerComponentFactoryOptions:function(){return s.ComponentFactoryOptions},TrafficManagerConfigParser:function(){return s.ConfigParser},TrafficManagerOptions:function(){return s.TrafficManagerOptions},WidgetBuilder:function(){return o.WidgetBuilder},dimensionInMeterToMillimeter:function(){return i.dimensionInMeterToMillimeter},formatFloat:function(){return o.formatFloat},meterToMillimeter:function(){return o.meterToMillimeter},millimeterToMeter:function(){return o.millimeterToMeter},positionInMeterToMillimeter:function(){return o.positionInMeterToMillimeter},scaleTemperature:function(){return i.scaleTemperature},shuttlePositionInMeterToMillimeter:function(){return i.shuttlePositionInMeterToMillimeter},shuttlePositionInRadToDegree:function(){return i.shuttlePositionInRadToDegree},shuttlePositionUnitsToInternalUnits:function(){return i.shuttlePositionUnitsToInternalUnits},trimFloat:function(){return o.trimFloat}});var o=n(817),i=n(229),r=n(228),s=n(39)},605:function(t,e,n){n.d(e,{A:function(){return o}});const o=function(){function t(){this.resolveFunctions=[],this.promises=[]}return t.prototype.aquire=function(){var t=this;return 0===this.promises.length&&(this.promises=[Promise.resolve()]),this.promises.push(new Promise((function(e){return t.resolveFunctions.push(e)}))),this.promises.shift()},t.prototype.release=function(){var t=this.resolveFunctions.shift();t&&t()},t}()},72:function(t,e,n){function o(t,e){return void 0===e&&(e=5),parseFloat(t.toFixed(e))}function i(t,e){void 0===e&&(e=5);var n=t.toFixed(e).replace(/\.?0+$/,"");return n.includes(".")?n:"".concat(n,".0")}function r(t){return 1e3*t}function s(t){return t/1e3}function a(t){return 180*t/Math.PI}function c(t){return{x:r(t.x),y:r(t.y)}}n.d(e,{Dp:function(){return a},Fx:function(){return s},fR:function(){return c},jF:function(){return o},kr:function(){return i},rH:function(){return r}})},257:function(t,e,n){var o;n.d(e,{$:function(){return o}}),function(t){t.Empty="",t.PowerOn="power-on",t.PowerOff="power-off",t.Error="error",t.Homing="homing",t.Stopping="stopping",t.Idling="idling",t.Landed="landed",t.Motion="motion",t.Obstacle="obstacle",t.Accident="accident",t.ActiveClosed="active-closed",t.ActiveOpen="active-open",t.NotActive="not-active",t.Disconnected="disconnected",t.TextAnchorEnd="text-anchor-end",t.TextAnchorMiddle="text-anchor-middle",t.TextAnchorStart="text-anchor-start",t.DisplayNone="display-none",t.DisplayBlock="display-block",t.VisibilityVisible="visibility-visible",t.VisibilityHidden="visibility-hidden",t.AlignmentBaselineAfterEdge="alignment-baseline-after-edge",t.AlignmentBaselineHanging="alignment-baseline-hanging",t.AdditionalInfo="additional-info",t.CoordinateSystem="coordinate-system",t.Crosshair="crosshair",t.XAxis="x-axis",t.YAxis="y-axis",t.ZAxis="z-axis",t.LabelXAxis="label-x-axis",t.LabelYAxis="label-y-axis",t.LabelZAxis="label-z-axis",t.PositionInfoContainer="position-info-container",t.CellCountLe3="cell-count-le-3",t.CellCountEq3="cell-count-eq-3",t.CellCountEq2="cell-count-eq-2",t.CellCountEq1="cell-count-eq-1",t.PositionInfo="position-info",t.Transparent="transparent",t.PositionX="position-info-x",t.PositionY="position-info-y",t.PositionZ="position-info-z",t.PositionRx="position-info-rx",t.PositionRy="position-info-ry",t.PositionRz="position-info-rz",t.StateInfo="state-info",t.Highlight="highlight",t.HideState="hide-state",t.Shuttles="shuttles",t.Zones="zones",t.PowerSectors="power-sectors"}(o||(o={}))},84:function(t,e,n){n.d(e,{A:function(){return o}});const o=function(){function t(){this._dataAccesses=[]}return Object.defineProperty(t.prototype,"dataAccesses",{get:function(){return this._dataAccesses},enumerable:!1,configurable:!0}),t.prototype.addDataAccess=function(t){this.dataAccesses.push(t)},t.prototype.removeSubscriptions=function(){this.dataAccesses.forEach((function(t){return t.removeSubscriptions()}))},t.prototype.addSubscriptions=function(){this.dataAccesses.forEach((function(t){return t.addSubscriptions()}))},t.prototype.dispose=function(){this.dataAccesses.forEach((function(t){return t.dispose()})),this._dataAccesses=[]},t}()},734:function(t,e,n){n.d(e,{A:function(){return a}});var o=n(606),i=n(303),r=function(t,e){this.subscription=t,this.callback=e},s=function(t,e){this.callbacks=[],this.parameterName=t,this.event=e};const a=function(){function t(t,e,n){this.opcUaNodeBindingEventManager=t,this.nodeId=e,this.namespace=n,this.parameterEvents=new Map,this.addSubscriptions()}return t.prototype.removeSubscriptions=function(){this.parameterEvents.forEach((function(t){t.callbacks.forEach((function(t){t.subscription&&(t.subscription.unsubscribe(),t.subscription=void 0)}))}))},t.prototype.addSubscriptions=function(){this.parameterEvents.forEach((function(t){t.callbacks.forEach((function(e){e.subscription||(e.subscription=t.event.subscribe(e.callback))}))}))},t.prototype.addEventListener=function(t,e,n,a){void 0===n&&(n=o.A.TYPE_STRING);var c=this.parameterEvents.get(t);c||(c=new s(t,new i.A(this.opcUaNodeBindingEventManager,this.nodeId,t,this.namespace,n,a)),this.parameterEvents.set(t,c)),c.callbacks.some((function(t){return t.callback===e}))||c.callbacks.push(new r(c.event.subscribe(e),e))},t.prototype.executeMethod=function(t,e,n){return void 0===n&&(n=o.A.TYPE_STRING),this.opcUaNodeBindingEventManager.executeMethod(this.nodeId,t,this.namespace,n,e)},t.prototype.dispose=function(){this.removeSubscriptions(),this.parameterEvents.clear()},t}()},606:function(t,e,n){n.d(e,{A:function(){return o}});const o=function(){function t(){}return t.NAMESPACE_5="NS5",t.NAMESPACE_6="NS6",t.TYPE_STRING="String",t.TYPE_INT32="Int32",t}()},303:function(t,e,n){n.d(e,{A:function(){return r}});var o=n(606),i=n(198);const r=function(){function t(t,e,n,i,r,s){void 0===r&&(r=o.A.TYPE_STRING),this.opcUaNodeBindingEventManager=t,this.nodeId=e,this.parameterId=n,this.namespace=i,this.idType=r,this.bindingOptions=s}return t.prototype.subscribe=function(t){return this.opcUaNodeBindingEventManager.subscribe(this.nodeId,this.parameterId,this.namespace,this.idType,t,this.bindingOptions),new i.A(this.opcUaNodeBindingEventManager,this.nodeId,this.parameterId,t)},t}()},198:function(t,e,n){n.d(e,{A:function(){return o}});const o=function(){function t(t,e,n,o){this.opcUaNodeBindingEventManager=t,this.nodeId=e,this.parameterId=n,this.callback=o}return t.prototype.unsubscribe=function(){this.opcUaNodeBindingEventManager.unsubscribe(this.nodeId,this.parameterId,this.callback)},t}()},817:function(t,e,n){n.d(e,{ConfigProviderJQueryWrapper:function(){return r},CrosshairSvg:function(){return g},CssClassEnum:function(){return o.$},Lock:function(){return i.A},OpcUaNodeBindingEventManagerMappViewWrapper:function(){return s},OpcUaParameterEventSource:function(){return C.A},OpcUaParameterSubscription:function(){return O.A},Position:function(){return A},PositionUnitEnum:function(){return w},SvgMergeViewbox:function(){return v.A},SvgReplace:function(){return m.A},SvgReplaceOptions:function(){return m.b},SvgUtils:function(){return p.Ay},SvgZoomToMousePosition:function(){return S},WidgetBuilder:function(){return f},formatFloat:function(){return b.kr},meterToMillimeter:function(){return b.rH},millimeterToMeter:function(){return b.Fx},positionInMeterToMillimeter:function(){return b.fR},trimFloat:function(){return b.jF}});var o=n(257),i=n(605);const r=function(){function t(t){this.configProvider=t}return t.prototype.getConfiguration=function(){var t=this;return new Promise((function(e,n){t.configProvider.getConfiguration().done(e).fail(n)}))},t.prototype.onLoaded=function(t){this.configProvider.onLoaded(t)},t}(),s=function(){function t(t,e){this.widgetId=t,this.opcUaNodeBindingEventManager=e,this.opcUaNodeBindingEventManager=e}return t.prototype.subscribe=function(t,e,n,o,i,r){this.opcUaNodeBindingEventManager.subscribe(this.widgetId,t,e,n,o,i,r)},t.prototype.unsubscribe=function(t,e,n){this.opcUaNodeBindingEventManager.unsubscribe(this.widgetId,t,e,n)},t.prototype.executeMethod=function(t,e,n,o,i){return this.opcUaNodeBindingEventManager.executeMethod(t,e,n,o,i)},t}();var a,c=n(42),u=n(488),p=n(202),l=(a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},a(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const h=function(t){function e(){var e=t.call(this,p.Ay.createGroup(),"")||this;return e.element.innerHTML='\n<g class="y-axis">\n    <path d="M0 0V-110"/>\n    <path d="m0 -120 4.5 13.5h-9Z" />\n</g>\n<text class="label-y-axis" x="-30" y="-120">Y</text>\n<g class="x-axis" stroke="red">\n    <path d="M0 0h110" />\n    <path d="m120 0-13.5 4.5v-9Z" />\n</g>\n<text class="label-x-axis" x="120" y="30">X</text>\n<g class="z-axis">\n    <circle cx="0" cy="0" r="10"/>\n</g>',e.element.classList.add(o.$.CoordinateSystem),e.svgContainer=document.createElement("div"),e.svgContainer.innerHTML='\n<svg xmlns="http://www.w3.org/2000/svg"\n    xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-46 -240 286 286">\n</svg>',e.svg=e.svgContainer.firstElementChild,e.svg.appendChild(e.element),e}return l(e,t),e}(u.A),f=function(){function t(t){this.assemblyBuilder=t,this.svgMerge=new c.A,this.onWheel=!1,this.onMove=!1}return t.prototype.useTrafficManagerBuilder=function(t){return this.trafficManagerBuilder=t,this},t.prototype.useSvgMerge=function(t){return this.svgMerge=t,this},t.prototype.useMouseBehavior=function(t){return this.mouseBehavior=t,this},t.prototype.addWheelListenerOnSvg=function(){return this.onWheel=!0,this},t.prototype.addMouseMoveListenerOnSvg=function(){return this.onMove=!0,this},t.prototype.addCoordinateSystem=function(){return this.coordinateSystem=new h,this},t.prototype.build=function(){var t,e,n;this.assemblyBuilder.build(),null===(t=this.trafficManagerBuilder)||void 0===t||t.build();var o=null===(e=this.assemblyBuilder.getComponent())||void 0===e?void 0:e.svg;if(void 0!==o&&(this.coordinateSystem&&this.svgMerge.merge(o.element,this.coordinateSystem.element),void 0!==this.trafficManagerBuilder)){var i=null===(n=this.trafficManagerBuilder.getComponent())||void 0===n?void 0:n.svg;void 0!==i&&this.svgMerge.merge(o.element,i.element)}this.buildMouseBehavior()},t.prototype.buildMouseBehavior=function(){this.mouseBehavior&&(this.onWheel&&this.mouseBehavior.addWheelListener(),this.onMove&&this.mouseBehavior.addMouseListeners(),this.mouseBehavior.initialize())},t}();var d=n(786),y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const g=function(t){function e(){var e=t.call(this,p.Ay.createGroup(),"")||this;return e._position={x:0,y:0},e.element.innerHTML='\n<path\n    d="M0-13.1953a1.1994 1.1994 90 011.1882 1.0363L1.1994-11.9958v2.071a10 10 90 018.727 8.7254H11.9974a1.1994 1.1994 90 01.1631 2.3877L11.9974 1.1994h-2.071A10 10 90 011.1994 9.9248v2.071a1.1994 1.1994 90 01-2.3893.1631L-1.1994 11.9942v-2.071A10 10 90 01-9.9232 1.201H-11.9942a1.1994 1.1994 90 01-.1631-2.3893L-11.9942-1.1994h2.0694A10 10 90 01-1.1994-9.9248V-11.9958a1.1994 1.1994 90 011.1994-1.1994zM-1.1994 1.1994H-7.502A7.6028 7.6028 90 00-1.1994 7.5036V1.1994zm8.7014 0H1.1994v6.3026a7.6028 7.6028 90 006.3026-6.301zm-8.6998-8.703A7.6028 7.6028 90 00-7.5036-1.1994H-1.1994V-7.5036zm2.3988 0L1.1994-1.1994h6.3042a7.6043 7.6043 90 00-5.9587-6.2402L1.1994-7.5036z"\n    fill="currentColor" />\n<path\n    d="M0-13.1953a1.1994 1.1994 90 011.1882 1.0363L1.1994-11.9958v2.071a10 10 90 018.727 8.7254H11.9974a1.1994 1.1994 90 01.1631 2.3877L11.9974 1.1994h-2.071A10 10 90 011.1994 9.9248v2.071a1.1994 1.1994 90 01-2.3893.1631L-1.1994 11.9942v-2.071A10 10 90 01-9.9232 1.201H-11.9942a1.1994 1.1994 90 01-.1631-2.3893L-11.9942-1.1994h2.0694A10 10 90 01-1.1994-9.9248V-11.9958a1.1994 1.1994 90 011.1994-1.1994Z"\n    fill="transparent" />\n',e.element.classList.add(d.$p.Crosshair),e.svgContainer=document.createElement("div"),e.svgContainer.innerHTML='\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n    viewBox="-8.298 -8.298 16.596 16.596">\n</svg>',e.svg=e.svgContainer.firstElementChild,e.svg.appendChild(e.element),e}return y(e,t),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t,this.setTransformAttribute()},enumerable:!1,configurable:!0}),e.prototype.setTransformAttribute=function(){this.element.setAttributeNS(null,"transform","translate(".concat(this._position.x," ").concat(-this._position.y,")"))},e}(u.A);var v=n(841),m=n(187);const S=function(){function t(t){this.element=t,this.zoomFactor=.1,this.zoomFactorOut=1-this.zoomFactor,this.zoomFactorIn=1+this.zoomFactor,this.initialScale=1,this.scale=this.initialScale,this.isDragging=!1,this.viewBoxInitSize={x:0,y:0},this.viewBoxInitPosition={x:0,y:0},this.viewBoxPosition={x:0,y:0},this.viewBoxSize={x:0,y:0},this.mouseStartPosition={x:0,y:0},this.mousePositionInViewBox={x:0,y:0},this.onMouseMoveCallback=null}return t.prototype.initialize=function(){var t=this.element.getAttributeNS(null,"viewBox");if(!t)throw new Error("The viewbox is undefined");var e=t.split(" ");this.viewBoxInitPosition.x=Number(e[0]),this.viewBoxInitPosition.y=Number(e[1]),this.viewBoxInitSize.x=Number(e[2]),this.viewBoxInitSize.y=Number(e[3]),this.viewBoxPosition.x=this.viewBoxInitPosition.x,this.viewBoxPosition.y=this.viewBoxInitPosition.y,this.viewBoxSize.x=this.viewBoxInitSize.x,this.viewBoxSize.y=this.viewBoxInitSize.y},t.prototype.addWheelListener=function(){var t=this;this.element.addEventListener("wheel",(function(e){return t.zoomBehavior(e)}))},t.prototype.addMouseListeners=function(){var t=this;this.element.addEventListener("mousedown",(function(e){return t.mouseDownBehavior(e)})),this.element.addEventListener("mousemove",(function(e){return t.mouseMoveBehavior(e)})),this.element.addEventListener("mouseup",(function(e){return t.mouseUpBehavior(e)}))},t.prototype.onMouseMove=function(t){this.onMouseMoveCallback=t},t.prototype.reset=function(){this.scale=this.initialScale,this.viewBoxPosition.x=this.viewBoxInitPosition.x,this.viewBoxPosition.y=this.viewBoxInitPosition.y,this.setviewbox()},t.prototype.zoomBehavior=function(t){if(0!==t.deltaY){t.preventDefault();var e=t.deltaY<0?this.zoomFactorOut:this.zoomFactorIn;if(this.scale*e<8&&this.scale*e>1/256){var n=this.getPositionScale(),o={x:t.offsetX*n,y:t.offsetY*n},i={x:this.viewBoxPosition.x,y:this.viewBoxPosition.y},r={x:o.x+i.x,y:o.y+i.y};this.viewBoxPosition.x=(this.viewBoxPosition.x-r.x)*e+r.x,this.viewBoxPosition.y=(this.viewBoxPosition.y-r.y)*e+r.y,this.scale*=e,this.setviewbox()}}},t.prototype.getPositionScale=function(){return this.viewBoxSize.x/this.element.clientWidth},t.prototype.mouseMoveBehavior=function(t){var e,n=this.getPositionScale();this.isDragging&&(this.viewBoxPosition.x-=(t.clientX-this.mouseStartPosition.x)*n,this.viewBoxPosition.y-=(t.clientY-this.mouseStartPosition.y)*n,this.mouseStartPosition.x=t.clientX,this.mouseStartPosition.y=t.clientY,this.setviewbox()),this.mousePositionInViewBox={x:t.offsetX*n+this.viewBoxPosition.x,y:t.offsetY*n+this.viewBoxPosition.y},null===(e=this.onMouseMoveCallback)||void 0===e||e.call(this,this.mousePositionInViewBox)},t.prototype.mouseDownBehavior=function(t){[0,1].includes(t.button)&&(t.preventDefault(),this.isDragging=!0,this.mouseStartPosition.x=t.clientX,this.mouseStartPosition.y=t.clientY)},t.prototype.mouseUpBehavior=function(t){t.preventDefault(),this.isDragging=!1},t.prototype.setviewbox=function(){this.viewBoxSize.x=this.viewBoxInitSize.x*this.scale,this.viewBoxSize.y=this.viewBoxInitSize.y*this.scale,this.element.setAttribute("viewBox","".concat(this.viewBoxPosition.x," ").concat(this.viewBoxPosition.y," ").concat(this.viewBoxSize.x," ").concat(this.viewBoxSize.y))},t}();var w,b=n(72);!function(t){t.Millimeter="mm",t.Meter="m"}(w||(w={}));const A=function(){function t(t,e,n){this.x=t,this.y=e,this.unit=n,n===w.Meter?(this.toMeterFunction=function(t){return t},this.toMillimeterFunction=b.rH):(this.toMeterFunction=b.Fx,this.toMillimeterFunction=function(t){return t})}return Object.defineProperty(t.prototype,"position",{set:function(t){this.x=t.x,this.y=t.y},enumerable:!1,configurable:!0}),t.prototype.toMeter=function(){return{x:this.toMeterFunction(this.x),y:this.toMeterFunction(this.y)}},t.prototype.toMillimeter=function(){return{x:this.toMillimeterFunction(this.x),y:this.toMillimeterFunction(this.y)}},t.prototype.toTrimmed=function(t){return void 0===t&&(t=2),{x:(0,b.jF)(this.x,t),y:(0,b.jF)(this.y,t)}},t}();var C=n(303),O=n(198)},867:function(t,e,n){n.d(e,{A:function(){return o}});const o=function(){function t(t){this.domParser=new DOMParser,this._svg=t}return Object.defineProperty(t.prototype,"svg",{get:function(){return this._svg},enumerable:!1,configurable:!0}),t.prototype.setConfig=function(t){if(t instanceof Element)this._svg=t;else{var e=this.domParser.parseFromString(t,"image/svg+xml").querySelector("svg");if(!e)throw new Error("Provided string value could not be parsed as SVG element");this._svg=e}},t.prototype.getElementByClassNameOfSvg=function(t,e){var n=t.querySelector(".".concat(e));if(null===n)throw new Error("An element with the class name '".concat(e,"' could not be found in the svg"));return n},t.prototype.getElementsByClassNameOfSvg=function(t,e){return t.querySelectorAll(".".concat(e))},t}()},488:function(t,e,n){n.d(e,{A:function(){return i}});var o=n(257);const i=function(){function t(t,e){void 0===e&&(e=null),this.element=t,this.id=null!=e?e:this.element.id,this.element.id=this.id}return t.prototype.add=function(t){this.element.appendChild(t.element)},t.prototype.addToElementWithCssClass=function(t,e){var n=this.element.querySelector(".".concat(e));n?n.appendChild(t.element):this.add(t)},t.prototype.remove=function(){this.element.remove()},t.replaceAddClassForElement=function(t,e,n){t.classList.contains(e)?""===n?t.classList.remove(e):t.classList.replace(e,n):""===n||t.classList.contains(n)||t.classList.add(n)},t.removeClassFromElement=function(t,e){t.classList.contains(e)&&t.classList.remove(e)},t.prototype.setFocus=function(){this.element.classList.add(o.$.Highlight)},t.prototype.removeFocus=function(){t.removeClassFromElement(this.element,o.$.Highlight)},t.prototype.hide=function(){t.replaceAddClassForElement(this.element,o.$.Empty,o.$.DisplayNone)},t.prototype.show=function(){t.replaceAddClassForElement(this.element,o.$.DisplayNone,o.$.Empty)},t}()},841:function(t,e,n){n.d(e,{A:function(){return i}});var o=n(693);const i=function(){function t(){}return t.prototype.merge=function(e,n){return t.mergeViewbox(e,n)},t.mergeViewbox=function(t,e){var n=o.SvgUtils.getViewBox(t),i=o.SvgUtils.getViewBox(e);if(n&&i){var r=n.x,s=n.y,a=n.width,c=n.height;n.offsetX<i.offsetX&&(r=i.x,a=n.width+(i.offsetX-n.offsetX)),n.offsetY<i.offsetY&&(s=n.y,c=n.height+(i.offsetY-n.offsetY)),t.setAttribute("viewBox","".concat(r," ").concat(s," ").concat(a," ").concat(c))}return t},t}()},187:function(t,e,n){n.d(e,{A:function(){return r},b:function(){return i}});var o=n(841),i=function(){this.mergeViewbox=!0};const r=function(){function t(t){this.svgMergeViewbox=new o.A,this.options=t||new i}return t.prototype.replace=function(t,e){var n=e.parentElement,o=e.id;if(""===o)throw Error("The element that should be inserted does not specify an id");var i=t.querySelector("#".concat(o));return i&&i.parentElement.replaceChild(e,i),n&&this.options.mergeViewbox&&this.svgMergeViewbox.merge(t,n),t},t}()},202:function(t,e,n){n.d(e,{Ay:function(){return r}});var o="http://www.w3.org/2000/svg",i="http://www.w3.org/1999/xhtml";const r=function(){function t(){}return t.calcLeftPosition=function(e){return-e/2+t.EDGE_OFFSET},t.calcRightPosition=function(e){return e/2-t.EDGE_OFFSET},t.calcTopPosition=function(e){return-e/2+t.EDGE_OFFSET},t.calcBottomPosition=function(e){return e/2-t.EDGE_OFFSET},t.createGroup=function(){return document.createElementNS(o,"g")},t.createRect=function(t,e,n,i){var r=document.createElementNS(o,"rect");return 0!==t&&r.setAttributeNS(null,"x",t.toString()),0!==e&&r.setAttributeNS(null,"y",e.toString()),r.setAttributeNS(null,"width",n.toString()),r.setAttributeNS(null,"height",i.toString()),r},t.createText=function(t,e,n){var i=document.createElementNS(o,"text");return i.innerHTML=t,i.setAttributeNS(null,"x",e.toString()),i.setAttributeNS(null,"y",n.toString()),i},t.createTextXhtml=function(t){var e=document.createElementNS(i,"text");return e.innerHTML=t,e},t.createPath=function(t){var e=document.createElementNS(o,"path");return e.setAttributeNS(null,"d",t),e},t.createForeignObject=function(t,e,n,i){var r=document.createElementNS(o,"foreignObject");return 0!==t&&r.setAttributeNS(null,"x",t.toString()),0!==e&&r.setAttributeNS(null,"y",e.toString()),r.setAttributeNS(null,"width",n.toString()),r.setAttributeNS(null,"height",i.toString()),r.setAttributeNS(null,"requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility"),r},t.createDivXhtml=function(){return document.createElementNS(i,"div")},t.limitSvgDimension=function(t,e,n){t.setAttributeNS(null,"width",e),t.setAttributeNS(null,"height",n)},t.insertSvgIntoDom=function(t,e){return t.innerHTML=e,t.querySelector("svg")},t.formatPositionValue=function(t){var e=Math.abs(t);return e>=1e3?Math.floor(t).toString():e>=100?t.toFixed(1):e>=10?t.toFixed(2):t.toFixed(3)},t.getViewBox=function(t){var e=t.getAttribute("viewBox");if(e){var n=e.split(" "),o=parseFloat(n[0]),i=parseFloat(n[1]),r=parseFloat(n[2]),s=parseFloat(n[3]),a={x:0,y:0,width:0,height:0,offsetX:0,offsetY:0};return a.x=o,a.y=i,a.width=r,a.height=s,a.offsetX=Math.abs(o),a.offsetY=Math.abs(s+i),a}return null},t.EDGE_OFFSET=10,t}()},39:function(t,e,n){var o;n.d(e,{ComponentEnum:function(){return o},ComponentFactory:function(){return d},ComponentFactoryOptions:function(){return f},ConfigParser:function(){return v},TrafficManagerBuilder:function(){return m},TrafficManagerOptions:function(){return l}}),function(t){t.TrafficManager="traffic-manager"}(o||(o={}));var i,r=n(257),s=n(488),a=(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(){this.showAdditionalInformation=!1};const u=function(t){function e(e,n){void 0===n&&(n=new c);var o=t.call(this,e)||this;return o.options=new c,Object.assign(o.options,n),o.options.showAdditionalInformation?o.showAdditionalInformation():o.hideAdditionalInformation(),o}return a(e,t),e.prototype.showAdditionalInformation=function(){this.element.querySelectorAll("text").forEach((function(t){s.A.replaceAddClassForElement(t,r.$.DisplayNone,r.$.DisplayBlock)})),this.options.showAdditionalInformation=!0},e.prototype.hideAdditionalInformation=function(){this.element.querySelectorAll("text").forEach((function(t){s.A.replaceAddClassForElement(t,r.$.DisplayBlock,r.$.DisplayNone)})),this.options.showAdditionalInformation=!1},e}(s.A);var p=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e}(c);const h=function(){function t(t,e){this.id=t,this.svg=e}return t.prototype.showAdditionalInformation=function(){this.svg.showAdditionalInformation()},t.prototype.hideAdditionalInformation=function(){this.svg.hideAdditionalInformation()},t.prototype.dispose=function(){},t}();var f=function(){this.trafficManager=new c};const d=function(){function t(t){this.options=t}return t.prototype.createTrafficManager=function(t,e){var n;return new h(t,new u(e,(null===(n=this.options)||void 0===n?void 0:n.trafficManager)||{showAdditionalInformation:!1}))},t}();var y=n(867),g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const v=function(t){function e(e,n){var o=t.call(this,n)||this;return o.componentFactory=e,o}return g(e,t),e.prototype.getTrafficManager=function(){return this._trafficManager},e.prototype.parse=function(){var t=this.getElementByClassNameOfSvg(this.svg,o.TrafficManager);this._trafficManager=this.componentFactory.createTrafficManager(t.id,t)},e}(y.A),m=function(){function t(t){this.configParser=t}return t.prototype.getTrafficManager=function(){return this.trafficManager},t.prototype.getComponent=function(){return this.getTrafficManager()},t.prototype.build=function(){return this.configParser.parse(),this.trafficManager=this.configParser.getTrafficManager(),this.trafficManager},t}();var S=n(187);!function(){function t(t,e,n){var o=this;this.svg=t,this.trafficManagerBuilder=e,this.trafficManagerDataAccess=n,this.onConfigChangeCallback=null,this.onSvgWriteCountChangeCallback=function(t){return o.onSvgWriteCountChange(t)},this.svgReplace=new S.A,this._svgWriteCount=1}t.prototype.useSvgReplace=function(t){this.svgReplace=t},t.prototype.onConfigChange=function(t){this.onConfigChangeCallback=t,this.trafficManagerDataAccess.onSvgWriteCountChange(this.onSvgWriteCountChangeCallback)},t.prototype.onSvgWriteCountChange=function(t){return e=this,n=void 0,i=function(){var e,n,o,i;return function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(r){switch(r.label){case 0:return t>this._svgWriteCount?(this._svgWriteCount=t,e=this.trafficManagerBuilder.configParser,o=(n=e).setConfig,[4,this.trafficManagerDataAccess.getSvgData()]):[3,2];case 1:o.apply(n,[r.sent()]),(i=this.trafficManagerBuilder.build())&&(this.svgReplace.replace(this.svg,i.svg.element),this.onConfigChangeCallback(i)),r.label=2;case 2:return[2]}}))},new((o=void 0)||(o=Promise))((function(t,r){function s(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,o,i}}();var w=n(734),b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const A=function(t){function e(e,n,o){var i=t.call(this,e,n,o)||this;return i.addSubscriptions(),i}return b(e,t),e.prototype.onSvgWriteCountChange=function(t){this.addEventListener("SVG write count",t)},e.prototype.getSvgData=function(){return this.executeMethod("Get SVG data",{}).then((function(t){return t.SVGData}))},e}(w.A);var C=n(84);!function(){function t(t,e,n,o){this.opcUaNodeBindingEventManager=t,this.mpLink=e,this.namespace=n,this.dataAccessContainer=o||new C.A}t.prototype.createTrafficManagerDataAccess=function(t){var e=new A(this.opcUaNodeBindingEventManager,t,this.namespace);return this.dataAccessContainer.addDataAccess(e),e},t.prototype.getDataAccessContainer=function(){return this.dataAccessContainer}}()}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}return n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(693)}()});